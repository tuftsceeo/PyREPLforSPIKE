{"ast":null,"code":"\"use strict\";\n/* global global */\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar KEYCODE_ENTER = 13;\nvar KEYCODE_TAB = 9;\nvar KEYCODE_BACKSPACE = 8;\nvar KEYCODE_Y = 89;\nvar KEYCODE_Z = 90;\nvar KEYCODE_M = 77;\nvar KEYCODE_PARENS = 57;\nvar KEYCODE_BRACKETS = 219;\nvar KEYCODE_QUOTE = 222;\nvar KEYCODE_BACK_QUOTE = 192;\nvar KEYCODE_ESCAPE = 27;\nvar HISTORY_LIMIT = 100;\nvar HISTORY_TIME_GAP = 3000;\nvar isWindows = 'navigator' in global && /Win/i.test(navigator.platform);\nvar isMacLike = 'navigator' in global && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\nvar className = 'npm__react-simple-code-editor__textarea';\nvar cssText =\n/* CSS */\n\"\\n/**\\n * Reset the text fill color so that placeholder is visible\\n */\\n.\".concat(className, \":empty {\\n  -webkit-text-fill-color: inherit !important;\\n}\\n\\n/**\\n * Hack to apply on some CSS on IE10 and IE11\\n */\\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\\n  /**\\n    * IE doesn't support '-webkit-text-fill-color'\\n    * So we use 'color: transparent' to make the text transparent on IE\\n    * Unlike other browsers, it doesn't affect caret color in IE\\n    */\\n  .\").concat(className, \" {\\n    color: transparent !important;\\n  }\\n\\n  .\").concat(className, \"::selection {\\n    background-color: #accef7 !important;\\n    color: transparent !important;\\n  }\\n}\\n\");\n\nvar Editor =\n/** @class */\nfunction (_super) {\n  __extends(Editor, _super);\n\n  function Editor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      capture: true\n    };\n\n    _this._recordCurrentState = function () {\n      var input = _this._input;\n      if (!input) return; // Save current state of the input\n\n      var value = input.value,\n          selectionStart = input.selectionStart,\n          selectionEnd = input.selectionEnd;\n\n      _this._recordChange({\n        value: value,\n        selectionStart: selectionStart,\n        selectionEnd: selectionEnd\n      });\n    };\n\n    _this._getLines = function (text, position) {\n      return text.substring(0, position).split('\\n');\n    };\n\n    _this._recordChange = function (record, overwrite) {\n      var _a, _b, _c;\n\n      if (overwrite === void 0) {\n        overwrite = false;\n      }\n\n      var _d = _this._history,\n          stack = _d.stack,\n          offset = _d.offset;\n\n      if (stack.length && offset > -1) {\n        // When something updates, drop the redo operations\n        _this._history.stack = stack.slice(0, offset + 1); // Limit the number of operations to 100\n\n        var count = _this._history.stack.length;\n\n        if (count > HISTORY_LIMIT) {\n          var extras = count - HISTORY_LIMIT;\n          _this._history.stack = stack.slice(extras, count);\n          _this._history.offset = Math.max(_this._history.offset - extras, 0);\n        }\n      }\n\n      var timestamp = Date.now();\n\n      if (overwrite) {\n        var last = _this._history.stack[_this._history.offset];\n\n        if (last && timestamp - last.timestamp < HISTORY_TIME_GAP) {\n          // A previous entry exists and was in short interval\n          // Match the last word in the line\n          var re = /[^a-z0-9]([a-z0-9]+)$/i; // Get the previous line\n\n          var previous = (_a = _this._getLines(last.value, last.selectionStart).pop()) === null || _a === void 0 ? void 0 : _a.match(re); // Get the current line\n\n          var current = (_b = _this._getLines(record.value, record.selectionStart).pop()) === null || _b === void 0 ? void 0 : _b.match(re);\n\n          if ((previous === null || previous === void 0 ? void 0 : previous[1]) && ((_c = current === null || current === void 0 ? void 0 : current[1]) === null || _c === void 0 ? void 0 : _c.startsWith(previous[1]))) {\n            // The last word of the previous line and current line match\n            // Overwrite previous entry so that undo will remove whole word\n            _this._history.stack[_this._history.offset] = __assign(__assign({}, record), {\n              timestamp: timestamp\n            });\n            return;\n          }\n        }\n      } // Add the new operation to the stack\n\n\n      _this._history.stack.push(__assign(__assign({}, record), {\n        timestamp: timestamp\n      }));\n\n      _this._history.offset++;\n    };\n\n    _this._updateInput = function (record) {\n      var input = _this._input;\n      if (!input) return; // Update values and selection state\n\n      input.value = record.value;\n      input.selectionStart = record.selectionStart;\n      input.selectionEnd = record.selectionEnd;\n\n      _this.props.onValueChange(record.value);\n    };\n\n    _this._applyEdits = function (record) {\n      // Save last selection state\n      var input = _this._input;\n      var last = _this._history.stack[_this._history.offset];\n\n      if (last && input) {\n        _this._history.stack[_this._history.offset] = __assign(__assign({}, last), {\n          selectionStart: input.selectionStart,\n          selectionEnd: input.selectionEnd\n        });\n      } // Save the changes\n\n\n      _this._recordChange(record);\n\n      _this._updateInput(record);\n    };\n\n    _this._undoEdit = function () {\n      var _a = _this._history,\n          stack = _a.stack,\n          offset = _a.offset; // Get the previous edit\n\n      var record = stack[offset - 1];\n\n      if (record) {\n        // Apply the changes and update the offset\n        _this._updateInput(record);\n\n        _this._history.offset = Math.max(offset - 1, 0);\n      }\n    };\n\n    _this._redoEdit = function () {\n      var _a = _this._history,\n          stack = _a.stack,\n          offset = _a.offset; // Get the next edit\n\n      var record = stack[offset + 1];\n\n      if (record) {\n        // Apply the changes and update the offset\n        _this._updateInput(record);\n\n        _this._history.offset = Math.min(offset + 1, stack.length - 1);\n      }\n    };\n\n    _this._handleKeyDown = function (e) {\n      var _a = _this.props,\n          tabSize = _a.tabSize,\n          insertSpaces = _a.insertSpaces,\n          ignoreTabKey = _a.ignoreTabKey,\n          onKeyDown = _a.onKeyDown;\n\n      if (onKeyDown) {\n        onKeyDown(e);\n\n        if (e.defaultPrevented) {\n          return;\n        }\n      }\n\n      if (e.keyCode === KEYCODE_ESCAPE) {\n        e.currentTarget.blur();\n      }\n\n      var _b = e.currentTarget,\n          value = _b.value,\n          selectionStart = _b.selectionStart,\n          selectionEnd = _b.selectionEnd;\n      var tabCharacter = (insertSpaces ? ' ' : '\\t').repeat(tabSize);\n\n      if (e.keyCode === KEYCODE_TAB && !ignoreTabKey && _this.state.capture) {\n        // Prevent focus change\n        e.preventDefault();\n\n        if (e.shiftKey) {\n          // Unindent selected lines\n          var linesBeforeCaret = _this._getLines(value, selectionStart);\n\n          var startLine_1 = linesBeforeCaret.length - 1;\n          var endLine_1 = _this._getLines(value, selectionEnd).length - 1;\n          var nextValue = value.split('\\n').map(function (line, i) {\n            if (i >= startLine_1 && i <= endLine_1 && line.startsWith(tabCharacter)) {\n              return line.substring(tabCharacter.length);\n            }\n\n            return line;\n          }).join('\\n');\n\n          if (value !== nextValue) {\n            var startLineText = linesBeforeCaret[startLine_1];\n\n            _this._applyEdits({\n              value: nextValue,\n              // Move the start cursor if first line in selection was modified\n              // It was modified only if it started with a tab\n              selectionStart: (startLineText === null || startLineText === void 0 ? void 0 : startLineText.startsWith(tabCharacter)) ? selectionStart - tabCharacter.length : selectionStart,\n              // Move the end cursor by total number of characters removed\n              selectionEnd: selectionEnd - (value.length - nextValue.length)\n            });\n          }\n        } else if (selectionStart !== selectionEnd) {\n          // Indent selected lines\n          var linesBeforeCaret = _this._getLines(value, selectionStart);\n\n          var startLine_2 = linesBeforeCaret.length - 1;\n          var endLine_2 = _this._getLines(value, selectionEnd).length - 1;\n          var startLineText = linesBeforeCaret[startLine_2];\n\n          _this._applyEdits({\n            value: value.split('\\n').map(function (line, i) {\n              if (i >= startLine_2 && i <= endLine_2) {\n                return tabCharacter + line;\n              }\n\n              return line;\n            }).join('\\n'),\n            // Move the start cursor by number of characters added in first line of selection\n            // Don't move it if it there was no text before cursor\n            selectionStart: startLineText && /\\S/.test(startLineText) ? selectionStart + tabCharacter.length : selectionStart,\n            // Move the end cursor by total number of characters added\n            selectionEnd: selectionEnd + tabCharacter.length * (endLine_2 - startLine_2 + 1)\n          });\n        } else {\n          var updatedSelection = selectionStart + tabCharacter.length;\n\n          _this._applyEdits({\n            // Insert tab character at caret\n            value: value.substring(0, selectionStart) + tabCharacter + value.substring(selectionEnd),\n            // Update caret position\n            selectionStart: updatedSelection,\n            selectionEnd: updatedSelection\n          });\n        }\n      } else if (e.keyCode === KEYCODE_BACKSPACE) {\n        var hasSelection = selectionStart !== selectionEnd;\n        var textBeforeCaret = value.substring(0, selectionStart);\n\n        if (textBeforeCaret.endsWith(tabCharacter) && !hasSelection) {\n          // Prevent default delete behaviour\n          e.preventDefault();\n          var updatedSelection = selectionStart - tabCharacter.length;\n\n          _this._applyEdits({\n            // Remove tab character at caret\n            value: value.substring(0, selectionStart - tabCharacter.length) + value.substring(selectionEnd),\n            // Update caret position\n            selectionStart: updatedSelection,\n            selectionEnd: updatedSelection\n          });\n        }\n      } else if (e.keyCode === KEYCODE_ENTER) {\n        // Ignore selections\n        if (selectionStart === selectionEnd) {\n          // Get the current line\n          var line = _this._getLines(value, selectionStart).pop();\n\n          var matches = line === null || line === void 0 ? void 0 : line.match(/^\\s+/);\n\n          if (matches === null || matches === void 0 ? void 0 : matches[0]) {\n            e.preventDefault(); // Preserve indentation on inserting a new line\n\n            var indent = '\\n' + matches[0];\n            var updatedSelection = selectionStart + indent.length;\n\n            _this._applyEdits({\n              // Insert indentation character at caret\n              value: value.substring(0, selectionStart) + indent + value.substring(selectionEnd),\n              // Update caret position\n              selectionStart: updatedSelection,\n              selectionEnd: updatedSelection\n            });\n          }\n        }\n      } else if (e.keyCode === KEYCODE_PARENS || e.keyCode === KEYCODE_BRACKETS || e.keyCode === KEYCODE_QUOTE || e.keyCode === KEYCODE_BACK_QUOTE) {\n        var chars = void 0;\n\n        if (e.keyCode === KEYCODE_PARENS && e.shiftKey) {\n          chars = ['(', ')'];\n        } else if (e.keyCode === KEYCODE_BRACKETS) {\n          if (e.shiftKey) {\n            chars = ['{', '}'];\n          } else {\n            chars = ['[', ']'];\n          }\n        } else if (e.keyCode === KEYCODE_QUOTE) {\n          if (e.shiftKey) {\n            chars = ['\"', '\"'];\n          } else {\n            chars = [\"'\", \"'\"];\n          }\n        } else if (e.keyCode === KEYCODE_BACK_QUOTE && !e.shiftKey) {\n          chars = ['`', '`'];\n        } // If text is selected, wrap them in the characters\n\n\n        if (selectionStart !== selectionEnd && chars) {\n          e.preventDefault();\n\n          _this._applyEdits({\n            value: value.substring(0, selectionStart) + chars[0] + value.substring(selectionStart, selectionEnd) + chars[1] + value.substring(selectionEnd),\n            // Update caret position\n            selectionStart: selectionStart,\n            selectionEnd: selectionEnd + 2\n          });\n        }\n      } else if ((isMacLike ? // Trigger undo with ⌘+Z on Mac\n      e.metaKey && e.keyCode === KEYCODE_Z : // Trigger undo with Ctrl+Z on other platforms\n      e.ctrlKey && e.keyCode === KEYCODE_Z) && !e.shiftKey && !e.altKey) {\n        e.preventDefault();\n\n        _this._undoEdit();\n      } else if ((isMacLike ? // Trigger redo with ⌘+Shift+Z on Mac\n      e.metaKey && e.keyCode === KEYCODE_Z && e.shiftKey : isWindows ? // Trigger redo with Ctrl+Y on Windows\n      e.ctrlKey && e.keyCode === KEYCODE_Y : // Trigger redo with Ctrl+Shift+Z on other platforms\n      e.ctrlKey && e.keyCode === KEYCODE_Z && e.shiftKey) && !e.altKey) {\n        e.preventDefault();\n\n        _this._redoEdit();\n      } else if (e.keyCode === KEYCODE_M && e.ctrlKey && (isMacLike ? e.shiftKey : true)) {\n        e.preventDefault(); // Toggle capturing tab key so users can focus away\n\n        _this.setState(function (state) {\n          return {\n            capture: !state.capture\n          };\n        });\n      }\n    };\n\n    _this._handleChange = function (e) {\n      var _a = e.currentTarget,\n          value = _a.value,\n          selectionStart = _a.selectionStart,\n          selectionEnd = _a.selectionEnd;\n\n      _this._recordChange({\n        value: value,\n        selectionStart: selectionStart,\n        selectionEnd: selectionEnd\n      }, true);\n\n      _this.props.onValueChange(value);\n    };\n\n    _this._history = {\n      stack: [],\n      offset: -1\n    };\n    _this._input = null;\n    return _this;\n  }\n\n  Editor.prototype.componentDidMount = function () {\n    this._recordCurrentState();\n  };\n\n  Object.defineProperty(Editor.prototype, \"session\", {\n    get: function () {\n      return {\n        history: this._history\n      };\n    },\n    set: function (session) {\n      this._history = session.history;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Editor.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        value = _a.value,\n        style = _a.style,\n        padding = _a.padding,\n        highlight = _a.highlight,\n        textareaId = _a.textareaId,\n        textareaClassName = _a.textareaClassName,\n        autoFocus = _a.autoFocus,\n        disabled = _a.disabled,\n        form = _a.form,\n        maxLength = _a.maxLength,\n        minLength = _a.minLength,\n        name = _a.name,\n        placeholder = _a.placeholder,\n        readOnly = _a.readOnly,\n        required = _a.required,\n        onClick = _a.onClick,\n        onFocus = _a.onFocus,\n        onBlur = _a.onBlur,\n        onKeyUp = _a.onKeyUp,\n\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    onKeyDown = _a.onKeyDown,\n        onValueChange = _a.onValueChange,\n        tabSize = _a.tabSize,\n        insertSpaces = _a.insertSpaces,\n        ignoreTabKey = _a.ignoreTabKey,\n\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    preClassName = _a.preClassName,\n        rest = __rest(_a, [\"value\", \"style\", \"padding\", \"highlight\", \"textareaId\", \"textareaClassName\", \"autoFocus\", \"disabled\", \"form\", \"maxLength\", \"minLength\", \"name\", \"placeholder\", \"readOnly\", \"required\", \"onClick\", \"onFocus\", \"onBlur\", \"onKeyUp\", \"onKeyDown\", \"onValueChange\", \"tabSize\", \"insertSpaces\", \"ignoreTabKey\", \"preClassName\"]);\n\n    var contentStyle = {\n      paddingTop: padding,\n      paddingRight: padding,\n      paddingBottom: padding,\n      paddingLeft: padding\n    };\n    var highlighted = highlight(value);\n    return React.createElement(\"div\", __assign({}, rest, {\n      style: __assign(__assign({}, styles.container), style)\n    }), React.createElement(\"textarea\", {\n      ref: function (c) {\n        return _this._input = c;\n      },\n      style: __assign(__assign(__assign({}, styles.editor), styles.textarea), contentStyle),\n      className: className + (textareaClassName ? \" \".concat(textareaClassName) : ''),\n      id: textareaId,\n      value: value,\n      onChange: this._handleChange,\n      onKeyDown: this._handleKeyDown,\n      onClick: onClick,\n      onKeyUp: onKeyUp,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      disabled: disabled,\n      form: form,\n      maxLength: maxLength,\n      minLength: minLength,\n      name: name,\n      placeholder: placeholder,\n      readOnly: readOnly,\n      required: required,\n      autoFocus: autoFocus,\n      autoCapitalize: \"off\",\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      spellCheck: false,\n      \"data-gramm\": false\n    }), React.createElement(\"pre\", __assign({\n      className: preClassName,\n      \"aria-hidden\": \"true\",\n      style: __assign(__assign(__assign({}, styles.editor), styles.highlight), contentStyle)\n    }, typeof highlighted === 'string' ? {\n      dangerouslySetInnerHTML: {\n        __html: highlighted + '<br />'\n      }\n    } : {\n      children: highlighted\n    })), React.createElement(\"style\", {\n      type: \"text/css\",\n      dangerouslySetInnerHTML: {\n        __html: cssText\n      }\n    }));\n  };\n\n  Editor.defaultProps = {\n    tabSize: 2,\n    insertSpaces: true,\n    ignoreTabKey: false,\n    padding: 0\n  };\n  return Editor;\n}(React.Component);\n\nexports.default = Editor;\nvar styles = {\n  container: {\n    position: 'relative',\n    textAlign: 'left',\n    boxSizing: 'border-box',\n    padding: 0,\n    overflow: 'hidden'\n  },\n  textarea: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    resize: 'none',\n    color: 'inherit',\n    overflow: 'hidden',\n    MozOsxFontSmoothing: 'grayscale',\n    WebkitFontSmoothing: 'antialiased',\n    WebkitTextFillColor: 'transparent'\n  },\n  highlight: {\n    position: 'relative',\n    pointerEvents: 'none'\n  },\n  editor: {\n    margin: 0,\n    border: 0,\n    background: 'none',\n    boxSizing: 'inherit',\n    display: 'inherit',\n    fontFamily: 'inherit',\n    fontSize: 'inherit',\n    fontStyle: 'inherit',\n    fontVariantLigatures: 'inherit',\n    fontWeight: 'inherit',\n    letterSpacing: 'inherit',\n    lineHeight: 'inherit',\n    tabSize: 'inherit',\n    textIndent: 'inherit',\n    textRendering: 'inherit',\n    textTransform: 'inherit',\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'keep-all',\n    overflowWrap: 'break-word'\n  }\n};","map":{"version":3,"mappings":"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","names":["KEYCODE_ENTER","KEYCODE_TAB","KEYCODE_BACKSPACE","KEYCODE_Y","KEYCODE_Z","KEYCODE_M","KEYCODE_PARENS","KEYCODE_BRACKETS","KEYCODE_QUOTE","KEYCODE_BACK_QUOTE","KEYCODE_ESCAPE","HISTORY_LIMIT","HISTORY_TIME_GAP","isWindows","global","test","navigator","platform","isMacLike","className","cssText","concat","__extends","_this","capture","input","_input","selectionStart","selectionEnd","_recordChange","value","text","position","substring","split","record","overwrite","_history","stack","offset","length","slice","count","extras","Math","max","timestamp","Date","now","last","re","previous","_getLines","pop","_a","match","current","_b","_c","startsWith","__assign","push","props","onValueChange","_updateInput","min","e","tabSize","insertSpaces","ignoreTabKey","onKeyDown","defaultPrevented","keyCode","currentTarget","blur","tabCharacter","repeat","state","preventDefault","shiftKey","linesBeforeCaret","startLine_1","endLine_1","nextValue","map","line","i","join","startLineText","_applyEdits","startLine_2","endLine_2","updatedSelection","hasSelection","textBeforeCaret","endsWith","matches","indent","chars","metaKey","ctrlKey","altKey","_undoEdit","_redoEdit","setState","Editor","_recordCurrentState","Object","history","session","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","preClassName","rest","contentStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","highlighted","React","styles","container","ref","c","editor","textarea","id","onChange","_handleChange","_handleKeyDown","autoCapitalize","autoComplete","autoCorrect","spellCheck","dangerouslySetInnerHTML","__html","children","type","Component","textAlign","boxSizing","overflow","top","left","height","width","resize","color","MozOsxFontSmoothing","WebkitFontSmoothing","WebkitTextFillColor","pointerEvents","margin","border","background","display","fontFamily","fontSize","fontStyle","fontVariantLigatures","fontWeight","letterSpacing","lineHeight","textIndent","textRendering","textTransform","whiteSpace","wordBreak","overflowWrap"],"sources":["../src/index.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}