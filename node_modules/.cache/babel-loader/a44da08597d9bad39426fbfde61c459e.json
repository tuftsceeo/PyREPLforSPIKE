{"ast":null,"code":"import _toConsumableArray from\"C:/Users/gsess/Documents/React/repl/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/gsess/Documents/React/repl/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import ButtonGroup from'@mui/material/ButtonGroup';import Tab from\"./Tab\";import TextPopup from\"./TextPopup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Tabs(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];var LOCALSTORAGE_KEY=\"appData\";var tabsInitValue=[{color:\"primary\",name:\"Main\",onClick:null}];var ls=getLocalStorage();if(ls!=null){var lsJSON=JSON.parse(ls);Object.values(lsJSON).forEach(function(value,key){if(key!=0){tabsInitValue.push({color:\"inherit\",name:value.name,onClick:null});}});console.log(tabsInitValue);}var _useState3=useState(tabsInitValue),_useState4=_slicedToArray(_useState3,2),tabs=_useState4[0],setTabs=_useState4[1];// Tab target corresponds to index in tabs array\nfunction switchTabs(tabTarget){setTabs(function(prev){prev[activeTab].color=\"inherit\";prev[activeTab].outlined=\"inherit\";prev[tabTarget].color=\"primary\";prev[tabTarget].outlined=\"primary\";return prev;});setActiveTab(tabTarget);props.switchIDE(tabTarget);}function addTab(tabName){// Note: Color switching is delayed if tabs switched after add\nsetTabs(function(prev){return[].concat(_toConsumableArray(prev),[{color:\"primary\",name:tabName,onClick:null}]);});switchTabs(tabs.length);props.addREPL(tabName);props.switchIDE(tabs.length);}function getLocalStorage(){return localStorage.getItem(LOCALSTORAGE_KEY);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex -mb-4\",children:[/*#__PURE__*/_jsx(ButtonGroup,{variant:\"contained\",\"aria-label\":\"outlined inherit button group\",color:\"inherit\",children:tabs.map(function(tab,index){return/*#__PURE__*/_jsx(Tab,{id:index,color:tab.color,outlined:tab.outlined,name:tab.name,onClick:function onClick(){switchTabs(index);}},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-4\",children:/*#__PURE__*/_jsx(TextPopup,{formTitle:\"Create a new REPL\",formBody:\"Enter a name for your new REPL environment: \",addREPL:addTab})})]})});}export default Tabs;","map":{"version":3,"names":["React","useState","ButtonGroup","Tab","TextPopup","Tabs","props","activeTab","setActiveTab","LOCALSTORAGE_KEY","tabsInitValue","color","name","onClick","ls","getLocalStorage","lsJSON","JSON","parse","Object","values","forEach","value","key","push","console","log","tabs","setTabs","switchTabs","tabTarget","prev","outlined","switchIDE","addTab","tabName","length","addREPL","localStorage","getItem","map","tab","index"],"sources":["C:/Users/gsess/Documents/React/repl/src/components/Tabs/Tabs.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport Tab from \"./Tab\";\r\n\r\nimport TextPopup from \"./TextPopup\";\r\n\r\n\r\nfunction Tabs(props) {\r\n\r\n    const [activeTab, setActiveTab] = useState(0);\r\n    const LOCALSTORAGE_KEY = \"appData\"; \r\n\r\n    let tabsInitValue = [{\r\n        color: \"primary\",\r\n        name: \"Main\",\r\n        onClick: null\r\n    }];\r\n\r\n    const ls = getLocalStorage()\r\n    if (ls != null) {\r\n        const lsJSON = JSON.parse(ls)\r\n        Object.values(lsJSON).forEach((value, key) => {\r\n            if (key != 0) {\r\n                tabsInitValue.push({\r\n                    color: \"inherit\",\r\n                    name: value.name,\r\n                    onClick: null\r\n                });\r\n            }\r\n            \r\n        });\r\n        console.log(tabsInitValue)\r\n    }\r\n\r\n\r\n    const [tabs, setTabs] = useState(tabsInitValue);\r\n\r\n    \r\n\r\n    // Tab target corresponds to index in tabs array\r\n    function switchTabs(tabTarget){\r\n        setTabs((prev) => {\r\n            prev[activeTab].color = \"inherit\";\r\n            prev[activeTab].outlined = \"inherit\";\r\n            prev[tabTarget].color = \"primary\";\r\n            prev[tabTarget].outlined = \"primary\";\r\n\r\n            return prev;\r\n        })\r\n        setActiveTab(tabTarget);\r\n\r\n        props.switchIDE(tabTarget);\r\n        \r\n    }\r\n\r\n    function addTab(tabName) {\r\n        // Note: Color switching is delayed if tabs switched after add\r\n\r\n        setTabs((prev) => {\r\n            return ([...prev, {\r\n                color: \"primary\",\r\n                name: tabName,\r\n                onClick: null\r\n            }])\r\n        })\r\n\r\n        switchTabs(tabs.length);\r\n        props.addREPL(tabName);\r\n        props.switchIDE(tabs.length);\r\n    }\r\n\r\n\r\n    function getLocalStorage() {\r\n        return localStorage.getItem(LOCALSTORAGE_KEY);\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div>\r\n            <div className=\"flex -mb-4\">\r\n                <ButtonGroup variant=\"contained\" aria-label=\"outlined inherit button group\" color=\"inherit\">\r\n                    {\r\n\r\n                        tabs.map((tab, index) => {\r\n                            return (<Tab key={index} id={index} color={tab.color} outlined={tab.outlined} name={tab.name} onClick={() => {switchTabs(index)}} />)\r\n                        })\r\n                    }\r\n                    \r\n                </ButtonGroup>\r\n                <div className=\"mx-4\">\r\n                    <TextPopup formTitle=\"Create a new REPL\" formBody=\"Enter a name for your new REPL environment: \" addREPL={addTab} />\r\n                </div>\r\n                \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Tabs;"],"mappings":"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"},"metadata":{},"sourceType":"module"}