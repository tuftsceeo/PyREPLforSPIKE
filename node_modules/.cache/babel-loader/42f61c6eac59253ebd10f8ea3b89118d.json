{"ast":null,"code":"import loader from '@monaco-editor/loader';\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MonacoContainer from '../MonacoContainer/index.js';\nimport useMount from '../hooks/useMount/index.js';\nimport useUpdate from '../hooks/useUpdate/index.js';\nimport { getOrCreateModel, noop, isUndefined } from '../utils/index.js';\nimport usePrevious from '../hooks/usePrevious/index.js';\nconst viewStates = new Map();\n\nfunction Editor(_ref) {\n  let {\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n\n    /* === */\n    theme,\n    line,\n    loading,\n    options,\n    overrideServices,\n    saveViewState,\n    keepCurrentModel,\n\n    /* === */\n    width,\n    height,\n    className,\n    wrapperProps,\n\n    /* === */\n    beforeMount,\n    onMount,\n    onChange,\n    onValidate\n  } = _ref;\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef(null);\n  const editorRef = useRef(null);\n  const containerRef = useRef(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef(null);\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  useMount(() => {\n    const cancelable = loader.init();\n    cancelable.then(monaco => (monacoRef.current = monaco) && setIsMonacoMounting(false)).catch(error => (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error));\n    return () => editorRef.current ? disposeEditor() : cancelable.cancel();\n  });\n  useUpdate(() => {\n    const model = getOrCreateModel(monacoRef.current, defaultValue || value, defaultLanguage || language, path);\n\n    if (model !== editorRef.current.getModel()) {\n      saveViewState && viewStates.set(previousPath, editorRef.current.saveViewState());\n      editorRef.current.setModel(model);\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(path));\n    }\n  }, [path], isEditorReady);\n  useUpdate(() => {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  useUpdate(() => {\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\n      editorRef.current.setValue(value);\n    } else {\n      if (value !== editorRef.current.getValue()) {\n        editorRef.current.executeEdits('', [{\n          range: editorRef.current.getModel().getFullModelRange(),\n          text: value,\n          forceMoveMarkers: true\n        }]);\n        editorRef.current.pushUndoStop();\n      }\n    }\n  }, [value], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\n  }, [language], isEditorReady);\n  useUpdate(() => {\n    // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n    if (!isUndefined(line)) {\n      editorRef.current.revealLine(line);\n    }\n  }, [line], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  const createEditor = useCallback(() => {\n    beforeMountRef.current(monacoRef.current);\n    const autoCreatedModelPath = path || defaultPath;\n    const defaultModel = getOrCreateModel(monacoRef.current, value || defaultValue, defaultLanguage || language, autoCreatedModelPath);\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, {\n      model: defaultModel,\n      automaticLayout: true,\n      ...options\n    }, overrideServices);\n    saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [defaultValue, defaultLanguage, defaultPath, value, language, path, options, overrideServices, saveViewState, theme]);\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current, monacoRef.current);\n    }\n  }, [isEditorReady]);\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]); // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n\n  valueRef.current = value;\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      var _subscriptionRef$curr, _editorRef$current;\n\n      (_subscriptionRef$curr = subscriptionRef.current) === null || _subscriptionRef$curr === void 0 ? void 0 : _subscriptionRef$curr.dispose();\n      subscriptionRef.current = (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.onDidChangeModelContent(event => {\n        const editorValue = editorRef.current.getValue();\n\n        if (valueRef.current !== editorValue) {\n          onChange(editorValue, event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]); // onValidate\n\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current.editor.onDidChangeMarkers(uris => {\n        var _editorRef$current$ge;\n\n        const editorUri = (_editorRef$current$ge = editorRef.current.getModel()) === null || _editorRef$current$ge === void 0 ? void 0 : _editorRef$current$ge.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find(uri => uri.path === editorUri.path);\n\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current.editor.getModelMarkers({\n              resource: editorUri\n            });\n            onValidate === null || onValidate === void 0 ? void 0 : onValidate(markers);\n          }\n        }\n      });\n      return () => {\n        changeMarkersListener === null || changeMarkersListener === void 0 ? void 0 : changeMarkersListener.dispose();\n      };\n    }\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    var _subscriptionRef$curr2;\n\n    (_subscriptionRef$curr2 = subscriptionRef.current) === null || _subscriptionRef$curr2 === void 0 ? void 0 : _subscriptionRef$curr2.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current.saveViewState());\n    } else {\n      var _editorRef$current$ge2;\n\n      (_editorRef$current$ge2 = editorRef.current.getModel()) === null || _editorRef$current$ge2 === void 0 ? void 0 : _editorRef$current$ge2.dispose();\n    }\n\n    editorRef.current.dispose();\n  }\n\n  return /*#__PURE__*/React.createElement(MonacoContainer, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperProps: wrapperProps\n  });\n}\n\nEditor.propTypes = {\n  defaultValue: PropTypes.string,\n  defaultPath: PropTypes.string,\n  defaultLanguage: PropTypes.string,\n  value: PropTypes.string,\n  language: PropTypes.string,\n  path: PropTypes.string,\n\n  /* === */\n  theme: PropTypes.string,\n  line: PropTypes.number,\n  loading: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  options: PropTypes.object,\n  overrideServices: PropTypes.object,\n  saveViewState: PropTypes.bool,\n  keepCurrentModel: PropTypes.bool,\n\n  /* === */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  className: PropTypes.string,\n  wrapperProps: PropTypes.object,\n\n  /* === */\n  beforeMount: PropTypes.func,\n  onMount: PropTypes.func,\n  onChange: PropTypes.func,\n  onValidate: PropTypes.func\n};\nEditor.defaultProps = {\n  theme: 'light',\n  loading: 'Loading...',\n  options: {},\n  overrideServices: {},\n  saveViewState: true,\n  keepCurrentModel: false,\n\n  /* === */\n  width: '100%',\n  height: '100%',\n  wrapperProps: {},\n\n  /* === */\n  beforeMount: noop,\n  onMount: noop,\n  onValidate: noop\n};\nexport default Editor;","map":{"version":3,"names":["loader","React","useState","useRef","useCallback","useEffect","PropTypes","MonacoContainer","useMount","useUpdate","getOrCreateModel","noop","isUndefined","usePrevious","viewStates","Map","Editor","defaultValue","defaultLanguage","defaultPath","value","language","path","theme","line","loading","options","overrideServices","saveViewState","keepCurrentModel","width","height","className","wrapperProps","beforeMount","onMount","onChange","onValidate","isEditorReady","setIsEditorReady","isMonacoMounting","setIsMonacoMounting","monacoRef","editorRef","containerRef","onMountRef","beforeMountRef","subscriptionRef","valueRef","previousPath","cancelable","init","then","monaco","current","catch","error","type","console","disposeEditor","cancel","model","getModel","set","setModel","restoreViewState","get","updateOptions","getOption","editor","EditorOption","readOnly","setValue","getValue","executeEdits","range","getFullModelRange","text","forceMoveMarkers","pushUndoStop","setModelLanguage","revealLine","setTheme","createEditor","autoCreatedModelPath","defaultModel","create","automaticLayout","_subscriptionRef$curr","_editorRef$current","dispose","onDidChangeModelContent","event","editorValue","changeMarkersListener","onDidChangeMarkers","uris","_editorRef$current$ge","editorUri","uri","currentEditorHasMarkerChanges","find","markers","getModelMarkers","resource","_subscriptionRef$curr2","_editorRef$current$ge2","createElement","_ref","propTypes","string","number","oneOfType","element","object","bool","func","defaultProps"],"sources":["C:/Users/gsess/node_modules/@monaco-editor/react/lib/es/Editor/Editor.js"],"sourcesContent":["import loader from '@monaco-editor/loader';\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MonacoContainer from '../MonacoContainer/index.js';\nimport useMount from '../hooks/useMount/index.js';\nimport useUpdate from '../hooks/useUpdate/index.js';\nimport { getOrCreateModel, noop, isUndefined } from '../utils/index.js';\nimport usePrevious from '../hooks/usePrevious/index.js';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n\n  /* === */\n  theme,\n  line,\n  loading,\n  options,\n  overrideServices,\n  saveViewState,\n  keepCurrentModel,\n\n  /* === */\n  width,\n  height,\n  className,\n  wrapperProps,\n\n  /* === */\n  beforeMount,\n  onMount,\n  onChange,\n  onValidate\n}) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef(null);\n  const editorRef = useRef(null);\n  const containerRef = useRef(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef(null);\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  useMount(() => {\n    const cancelable = loader.init();\n    cancelable.then(monaco => (monacoRef.current = monaco) && setIsMonacoMounting(false)).catch(error => (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error));\n    return () => editorRef.current ? disposeEditor() : cancelable.cancel();\n  });\n  useUpdate(() => {\n    const model = getOrCreateModel(monacoRef.current, defaultValue || value, defaultLanguage || language, path);\n\n    if (model !== editorRef.current.getModel()) {\n      saveViewState && viewStates.set(previousPath, editorRef.current.saveViewState());\n      editorRef.current.setModel(model);\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(path));\n    }\n  }, [path], isEditorReady);\n  useUpdate(() => {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  useUpdate(() => {\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\n      editorRef.current.setValue(value);\n    } else {\n      if (value !== editorRef.current.getValue()) {\n        editorRef.current.executeEdits('', [{\n          range: editorRef.current.getModel().getFullModelRange(),\n          text: value,\n          forceMoveMarkers: true\n        }]);\n        editorRef.current.pushUndoStop();\n      }\n    }\n  }, [value], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\n  }, [language], isEditorReady);\n  useUpdate(() => {\n    // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n    if (!isUndefined(line)) {\n      editorRef.current.revealLine(line);\n    }\n  }, [line], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  const createEditor = useCallback(() => {\n    beforeMountRef.current(monacoRef.current);\n    const autoCreatedModelPath = path || defaultPath;\n    const defaultModel = getOrCreateModel(monacoRef.current, value || defaultValue, defaultLanguage || language, autoCreatedModelPath);\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, {\n      model: defaultModel,\n      automaticLayout: true,\n      ...options\n    }, overrideServices);\n    saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [defaultValue, defaultLanguage, defaultPath, value, language, path, options, overrideServices, saveViewState, theme]);\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current, monacoRef.current);\n    }\n  }, [isEditorReady]);\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]); // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n\n  valueRef.current = value;\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      var _subscriptionRef$curr, _editorRef$current;\n\n      (_subscriptionRef$curr = subscriptionRef.current) === null || _subscriptionRef$curr === void 0 ? void 0 : _subscriptionRef$curr.dispose();\n      subscriptionRef.current = (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.onDidChangeModelContent(event => {\n        const editorValue = editorRef.current.getValue();\n\n        if (valueRef.current !== editorValue) {\n          onChange(editorValue, event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]); // onValidate\n\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current.editor.onDidChangeMarkers(uris => {\n        var _editorRef$current$ge;\n\n        const editorUri = (_editorRef$current$ge = editorRef.current.getModel()) === null || _editorRef$current$ge === void 0 ? void 0 : _editorRef$current$ge.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find(uri => uri.path === editorUri.path);\n\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current.editor.getModelMarkers({\n              resource: editorUri\n            });\n            onValidate === null || onValidate === void 0 ? void 0 : onValidate(markers);\n          }\n        }\n      });\n      return () => {\n        changeMarkersListener === null || changeMarkersListener === void 0 ? void 0 : changeMarkersListener.dispose();\n      };\n    }\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    var _subscriptionRef$curr2;\n\n    (_subscriptionRef$curr2 = subscriptionRef.current) === null || _subscriptionRef$curr2 === void 0 ? void 0 : _subscriptionRef$curr2.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current.saveViewState());\n    } else {\n      var _editorRef$current$ge2;\n\n      (_editorRef$current$ge2 = editorRef.current.getModel()) === null || _editorRef$current$ge2 === void 0 ? void 0 : _editorRef$current$ge2.dispose();\n    }\n\n    editorRef.current.dispose();\n  }\n\n  return /*#__PURE__*/React.createElement(MonacoContainer, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperProps: wrapperProps\n  });\n}\n\nEditor.propTypes = {\n  defaultValue: PropTypes.string,\n  defaultPath: PropTypes.string,\n  defaultLanguage: PropTypes.string,\n  value: PropTypes.string,\n  language: PropTypes.string,\n  path: PropTypes.string,\n\n  /* === */\n  theme: PropTypes.string,\n  line: PropTypes.number,\n  loading: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  options: PropTypes.object,\n  overrideServices: PropTypes.object,\n  saveViewState: PropTypes.bool,\n  keepCurrentModel: PropTypes.bool,\n\n  /* === */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  className: PropTypes.string,\n  wrapperProps: PropTypes.object,\n\n  /* === */\n  beforeMount: PropTypes.func,\n  onMount: PropTypes.func,\n  onChange: PropTypes.func,\n  onValidate: PropTypes.func\n};\nEditor.defaultProps = {\n  theme: 'light',\n  loading: 'Loading...',\n  options: {},\n  overrideServices: {},\n  saveViewState: true,\n  keepCurrentModel: false,\n\n  /* === */\n  width: '100%',\n  height: '100%',\n  wrapperProps: {},\n\n  /* === */\n  beforeMount: noop,\n  onMount: noop,\n  onValidate: noop\n};\n\nexport default Editor;\n"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,uBAAnB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,WAAlC,EAA+CC,SAA/C,QAAgE,OAAhE;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,gBAAT,EAA2BC,IAA3B,EAAiCC,WAAjC,QAAoD,mBAApD;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AAEA,MAAMC,UAAU,GAAG,IAAIC,GAAJ,EAAnB;;AAEA,SAASC,MAAT,OA4BG;EAAA,IA5Ba;IACdC,YADc;IAEdC,eAFc;IAGdC,WAHc;IAIdC,KAJc;IAKdC,QALc;IAMdC,IANc;;IAQd;IACAC,KATc;IAUdC,IAVc;IAWdC,OAXc;IAYdC,OAZc;IAadC,gBAbc;IAcdC,aAdc;IAedC,gBAfc;;IAiBd;IACAC,KAlBc;IAmBdC,MAnBc;IAoBdC,SApBc;IAqBdC,YArBc;;IAuBd;IACAC,WAxBc;IAyBdC,OAzBc;IA0BdC,QA1Bc;IA2BdC;EA3Bc,CA4Bb;EACD,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCrC,QAAQ,CAAC,KAAD,CAAlD;EACA,MAAM,CAACsC,gBAAD,EAAmBC,mBAAnB,IAA0CvC,QAAQ,CAAC,IAAD,CAAxD;EACA,MAAMwC,SAAS,GAAGvC,MAAM,CAAC,IAAD,CAAxB;EACA,MAAMwC,SAAS,GAAGxC,MAAM,CAAC,IAAD,CAAxB;EACA,MAAMyC,YAAY,GAAGzC,MAAM,CAAC,IAAD,CAA3B;EACA,MAAM0C,UAAU,GAAG1C,MAAM,CAACgC,OAAD,CAAzB;EACA,MAAMW,cAAc,GAAG3C,MAAM,CAAC+B,WAAD,CAA7B;EACA,MAAMa,eAAe,GAAG5C,MAAM,CAAC,IAAD,CAA9B;EACA,MAAM6C,QAAQ,GAAG7C,MAAM,CAACiB,KAAD,CAAvB;EACA,MAAM6B,YAAY,GAAGpC,WAAW,CAACS,IAAD,CAAhC;EACAd,QAAQ,CAAC,MAAM;IACb,MAAM0C,UAAU,GAAGlD,MAAM,CAACmD,IAAP,EAAnB;IACAD,UAAU,CAACE,IAAX,CAAgBC,MAAM,IAAI,CAACX,SAAS,CAACY,OAAV,GAAoBD,MAArB,KAAgCZ,mBAAmB,CAAC,KAAD,CAA7E,EAAsFc,KAAtF,CAA4FC,KAAK,IAAI,CAACA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACC,IAArD,MAA+D,aAA/D,IAAgFC,OAAO,CAACF,KAAR,CAAc,+BAAd,EAA+CA,KAA/C,CAArL;IACA,OAAO,MAAMb,SAAS,CAACW,OAAV,GAAoBK,aAAa,EAAjC,GAAsCT,UAAU,CAACU,MAAX,EAAnD;EACD,CAJO,CAAR;EAKAnD,SAAS,CAAC,MAAM;IACd,MAAMoD,KAAK,GAAGnD,gBAAgB,CAACgC,SAAS,CAACY,OAAX,EAAoBrC,YAAY,IAAIG,KAApC,EAA2CF,eAAe,IAAIG,QAA9D,EAAwEC,IAAxE,CAA9B;;IAEA,IAAIuC,KAAK,KAAKlB,SAAS,CAACW,OAAV,CAAkBQ,QAAlB,EAAd,EAA4C;MAC1ClC,aAAa,IAAId,UAAU,CAACiD,GAAX,CAAed,YAAf,EAA6BN,SAAS,CAACW,OAAV,CAAkB1B,aAAlB,EAA7B,CAAjB;MACAe,SAAS,CAACW,OAAV,CAAkBU,QAAlB,CAA2BH,KAA3B;MACAjC,aAAa,IAAIe,SAAS,CAACW,OAAV,CAAkBW,gBAAlB,CAAmCnD,UAAU,CAACoD,GAAX,CAAe5C,IAAf,CAAnC,CAAjB;IACD;EACF,CARQ,EAQN,CAACA,IAAD,CARM,EAQEgB,aARF,CAAT;EASA7B,SAAS,CAAC,MAAM;IACdkC,SAAS,CAACW,OAAV,CAAkBa,aAAlB,CAAgCzC,OAAhC;EACD,CAFQ,EAEN,CAACA,OAAD,CAFM,EAEKY,aAFL,CAAT;EAGA7B,SAAS,CAAC,MAAM;IACd,IAAIkC,SAAS,CAACW,OAAV,CAAkBc,SAAlB,CAA4B1B,SAAS,CAACY,OAAV,CAAkBe,MAAlB,CAAyBC,YAAzB,CAAsCC,QAAlE,CAAJ,EAAiF;MAC/E5B,SAAS,CAACW,OAAV,CAAkBkB,QAAlB,CAA2BpD,KAA3B;IACD,CAFD,MAEO;MACL,IAAIA,KAAK,KAAKuB,SAAS,CAACW,OAAV,CAAkBmB,QAAlB,EAAd,EAA4C;QAC1C9B,SAAS,CAACW,OAAV,CAAkBoB,YAAlB,CAA+B,EAA/B,EAAmC,CAAC;UAClCC,KAAK,EAAEhC,SAAS,CAACW,OAAV,CAAkBQ,QAAlB,GAA6Bc,iBAA7B,EAD2B;UAElCC,IAAI,EAAEzD,KAF4B;UAGlC0D,gBAAgB,EAAE;QAHgB,CAAD,CAAnC;QAKAnC,SAAS,CAACW,OAAV,CAAkByB,YAAlB;MACD;IACF;EACF,CAbQ,EAaN,CAAC3D,KAAD,CAbM,EAaGkB,aAbH,CAAT;EAcA7B,SAAS,CAAC,MAAM;IACdiC,SAAS,CAACY,OAAV,CAAkBe,MAAlB,CAAyBW,gBAAzB,CAA0CrC,SAAS,CAACW,OAAV,CAAkBQ,QAAlB,EAA1C,EAAwEzC,QAAxE;EACD,CAFQ,EAEN,CAACA,QAAD,CAFM,EAEMiB,aAFN,CAAT;EAGA7B,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACG,WAAW,CAACY,IAAD,CAAhB,EAAwB;MACtBmB,SAAS,CAACW,OAAV,CAAkB2B,UAAlB,CAA6BzD,IAA7B;IACD;EACF,CALQ,EAKN,CAACA,IAAD,CALM,EAKEc,aALF,CAAT;EAMA7B,SAAS,CAAC,MAAM;IACdiC,SAAS,CAACY,OAAV,CAAkBe,MAAlB,CAAyBa,QAAzB,CAAkC3D,KAAlC;EACD,CAFQ,EAEN,CAACA,KAAD,CAFM,EAEGe,aAFH,CAAT;EAGA,MAAM6C,YAAY,GAAG/E,WAAW,CAAC,MAAM;IACrC0C,cAAc,CAACQ,OAAf,CAAuBZ,SAAS,CAACY,OAAjC;IACA,MAAM8B,oBAAoB,GAAG9D,IAAI,IAAIH,WAArC;IACA,MAAMkE,YAAY,GAAG3E,gBAAgB,CAACgC,SAAS,CAACY,OAAX,EAAoBlC,KAAK,IAAIH,YAA7B,EAA2CC,eAAe,IAAIG,QAA9D,EAAwE+D,oBAAxE,CAArC;IACAzC,SAAS,CAACW,OAAV,GAAoBZ,SAAS,CAACY,OAAV,CAAkBe,MAAlB,CAAyBiB,MAAzB,CAAgC1C,YAAY,CAACU,OAA7C,EAAsD;MACxEO,KAAK,EAAEwB,YADiE;MAExEE,eAAe,EAAE,IAFuD;MAGxE,GAAG7D;IAHqE,CAAtD,EAIjBC,gBAJiB,CAApB;IAKAC,aAAa,IAAIe,SAAS,CAACW,OAAV,CAAkBW,gBAAlB,CAAmCnD,UAAU,CAACoD,GAAX,CAAekB,oBAAf,CAAnC,CAAjB;IACA1C,SAAS,CAACY,OAAV,CAAkBe,MAAlB,CAAyBa,QAAzB,CAAkC3D,KAAlC;IACAgB,gBAAgB,CAAC,IAAD,CAAhB;EACD,CAZ+B,EAY7B,CAACtB,YAAD,EAAeC,eAAf,EAAgCC,WAAhC,EAA6CC,KAA7C,EAAoDC,QAApD,EAA8DC,IAA9D,EAAoEI,OAApE,EAA6EC,gBAA7E,EAA+FC,aAA/F,EAA8GL,KAA9G,CAZ6B,CAAhC;EAaAlB,SAAS,CAAC,MAAM;IACd,IAAIiC,aAAJ,EAAmB;MACjBO,UAAU,CAACS,OAAX,CAAmBX,SAAS,CAACW,OAA7B,EAAsCZ,SAAS,CAACY,OAAhD;IACD;EACF,CAJQ,EAIN,CAAChB,aAAD,CAJM,CAAT;EAKAjC,SAAS,CAAC,MAAM;IACd,CAACmC,gBAAD,IAAqB,CAACF,aAAtB,IAAuC6C,YAAY,EAAnD;EACD,CAFQ,EAEN,CAAC3C,gBAAD,EAAmBF,aAAnB,EAAkC6C,YAAlC,CAFM,CAAT,CAxEC,CA0EoD;EACrD;;EAEAnC,QAAQ,CAACM,OAAT,GAAmBlC,KAAnB;EACAf,SAAS,CAAC,MAAM;IACd,IAAIiC,aAAa,IAAIF,QAArB,EAA+B;MAC7B,IAAIoD,qBAAJ,EAA2BC,kBAA3B;;MAEA,CAACD,qBAAqB,GAAGzC,eAAe,CAACO,OAAzC,MAAsD,IAAtD,IAA8DkC,qBAAqB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0GA,qBAAqB,CAACE,OAAtB,EAA1G;MACA3C,eAAe,CAACO,OAAhB,GAA0B,CAACmC,kBAAkB,GAAG9C,SAAS,CAACW,OAAhC,MAA6C,IAA7C,IAAqDmC,kBAAkB,KAAK,KAAK,CAAjF,GAAqF,KAAK,CAA1F,GAA8FA,kBAAkB,CAACE,uBAAnB,CAA2CC,KAAK,IAAI;QAC1K,MAAMC,WAAW,GAAGlD,SAAS,CAACW,OAAV,CAAkBmB,QAAlB,EAApB;;QAEA,IAAIzB,QAAQ,CAACM,OAAT,KAAqBuC,WAAzB,EAAsC;UACpCzD,QAAQ,CAACyD,WAAD,EAAcD,KAAd,CAAR;QACD;MACF,CANuH,CAAxH;IAOD;EACF,CAbQ,EAaN,CAACtD,aAAD,EAAgBF,QAAhB,CAbM,CAAT,CA9EC,CA2F8B;;EAE/B/B,SAAS,CAAC,MAAM;IACd,IAAIiC,aAAJ,EAAmB;MACjB,MAAMwD,qBAAqB,GAAGpD,SAAS,CAACY,OAAV,CAAkBe,MAAlB,CAAyB0B,kBAAzB,CAA4CC,IAAI,IAAI;QAChF,IAAIC,qBAAJ;;QAEA,MAAMC,SAAS,GAAG,CAACD,qBAAqB,GAAGtD,SAAS,CAACW,OAAV,CAAkBQ,QAAlB,EAAzB,MAA2D,IAA3D,IAAmEmC,qBAAqB,KAAK,KAAK,CAAlG,GAAsG,KAAK,CAA3G,GAA+GA,qBAAqB,CAACE,GAAvJ;;QAEA,IAAID,SAAJ,EAAe;UACb,MAAME,6BAA6B,GAAGJ,IAAI,CAACK,IAAL,CAAUF,GAAG,IAAIA,GAAG,CAAC7E,IAAJ,KAAa4E,SAAS,CAAC5E,IAAxC,CAAtC;;UAEA,IAAI8E,6BAAJ,EAAmC;YACjC,MAAME,OAAO,GAAG5D,SAAS,CAACY,OAAV,CAAkBe,MAAlB,CAAyBkC,eAAzB,CAAyC;cACvDC,QAAQ,EAAEN;YAD6C,CAAzC,CAAhB;YAGA7D,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAACiE,OAAD,CAAlE;UACD;QACF;MACF,CAf6B,CAA9B;MAgBA,OAAO,MAAM;QACXR,qBAAqB,KAAK,IAA1B,IAAkCA,qBAAqB,KAAK,KAAK,CAAjE,GAAqE,KAAK,CAA1E,GAA8EA,qBAAqB,CAACJ,OAAtB,EAA9E;MACD,CAFD;IAGD;EACF,CAtBQ,EAsBN,CAACpD,aAAD,EAAgBD,UAAhB,CAtBM,CAAT;;EAwBA,SAASsB,aAAT,GAAyB;IACvB,IAAI8C,sBAAJ;;IAEA,CAACA,sBAAsB,GAAG1D,eAAe,CAACO,OAA1C,MAAuD,IAAvD,IAA+DmD,sBAAsB,KAAK,KAAK,CAA/F,GAAmG,KAAK,CAAxG,GAA4GA,sBAAsB,CAACf,OAAvB,EAA5G;;IAEA,IAAI7D,gBAAJ,EAAsB;MACpBD,aAAa,IAAId,UAAU,CAACiD,GAAX,CAAezC,IAAf,EAAqBqB,SAAS,CAACW,OAAV,CAAkB1B,aAAlB,EAArB,CAAjB;IACD,CAFD,MAEO;MACL,IAAI8E,sBAAJ;;MAEA,CAACA,sBAAsB,GAAG/D,SAAS,CAACW,OAAV,CAAkBQ,QAAlB,EAA1B,MAA4D,IAA5D,IAAoE4C,sBAAsB,KAAK,KAAK,CAApG,GAAwG,KAAK,CAA7G,GAAiHA,sBAAsB,CAAChB,OAAvB,EAAjH;IACD;;IAED/C,SAAS,CAACW,OAAV,CAAkBoC,OAAlB;EACD;;EAED,OAAO,aAAazF,KAAK,CAAC0G,aAAN,CAAoBpG,eAApB,EAAqC;IACvDuB,KAAK,EAAEA,KADgD;IAEvDC,MAAM,EAAEA,MAF+C;IAGvDO,aAAa,EAAEA,aAHwC;IAIvDb,OAAO,EAAEA,OAJ8C;IAKvDmF,IAAI,EAAEhE,YALiD;IAMvDZ,SAAS,EAAEA,SAN4C;IAOvDC,YAAY,EAAEA;EAPyC,CAArC,CAApB;AASD;;AAEDjB,MAAM,CAAC6F,SAAP,GAAmB;EACjB5F,YAAY,EAAEX,SAAS,CAACwG,MADP;EAEjB3F,WAAW,EAAEb,SAAS,CAACwG,MAFN;EAGjB5F,eAAe,EAAEZ,SAAS,CAACwG,MAHV;EAIjB1F,KAAK,EAAEd,SAAS,CAACwG,MAJA;EAKjBzF,QAAQ,EAAEf,SAAS,CAACwG,MALH;EAMjBxF,IAAI,EAAEhB,SAAS,CAACwG,MANC;;EAQjB;EACAvF,KAAK,EAAEjB,SAAS,CAACwG,MATA;EAUjBtF,IAAI,EAAElB,SAAS,CAACyG,MAVC;EAWjBtF,OAAO,EAAEnB,SAAS,CAAC0G,SAAV,CAAoB,CAAC1G,SAAS,CAAC2G,OAAX,EAAoB3G,SAAS,CAACwG,MAA9B,CAApB,CAXQ;EAYjBpF,OAAO,EAAEpB,SAAS,CAAC4G,MAZF;EAajBvF,gBAAgB,EAAErB,SAAS,CAAC4G,MAbX;EAcjBtF,aAAa,EAAEtB,SAAS,CAAC6G,IAdR;EAejBtF,gBAAgB,EAAEvB,SAAS,CAAC6G,IAfX;;EAiBjB;EACArF,KAAK,EAAExB,SAAS,CAAC0G,SAAV,CAAoB,CAAC1G,SAAS,CAACyG,MAAX,EAAmBzG,SAAS,CAACwG,MAA7B,CAApB,CAlBU;EAmBjB/E,MAAM,EAAEzB,SAAS,CAAC0G,SAAV,CAAoB,CAAC1G,SAAS,CAACyG,MAAX,EAAmBzG,SAAS,CAACwG,MAA7B,CAApB,CAnBS;EAoBjB9E,SAAS,EAAE1B,SAAS,CAACwG,MApBJ;EAqBjB7E,YAAY,EAAE3B,SAAS,CAAC4G,MArBP;;EAuBjB;EACAhF,WAAW,EAAE5B,SAAS,CAAC8G,IAxBN;EAyBjBjF,OAAO,EAAE7B,SAAS,CAAC8G,IAzBF;EA0BjBhF,QAAQ,EAAE9B,SAAS,CAAC8G,IA1BH;EA2BjB/E,UAAU,EAAE/B,SAAS,CAAC8G;AA3BL,CAAnB;AA6BApG,MAAM,CAACqG,YAAP,GAAsB;EACpB9F,KAAK,EAAE,OADa;EAEpBE,OAAO,EAAE,YAFW;EAGpBC,OAAO,EAAE,EAHW;EAIpBC,gBAAgB,EAAE,EAJE;EAKpBC,aAAa,EAAE,IALK;EAMpBC,gBAAgB,EAAE,KANE;;EAQpB;EACAC,KAAK,EAAE,MATa;EAUpBC,MAAM,EAAE,MAVY;EAWpBE,YAAY,EAAE,EAXM;;EAapB;EACAC,WAAW,EAAEvB,IAdO;EAepBwB,OAAO,EAAExB,IAfW;EAgBpB0B,UAAU,EAAE1B;AAhBQ,CAAtB;AAmBA,eAAeK,MAAf"},"metadata":{},"sourceType":"module"}