{"ast":null,"code":"const color = require('kleur');\n\nconst Prompt = require('./prompt');\n\nconst {\n  erase,\n  cursor\n} = require('sisteransi');\n\nconst {\n  style,\n  clear,\n  lines,\n  figures\n} = require('../util');\n/**\n * TextPrompt Base Element\n * @param {Object} opts Options\n * @param {String} opts.message Message\n * @param {String} [opts.style='default'] Render style\n * @param {String} [opts.initial] Default value\n * @param {Function} [opts.validate] Validate function\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n * @param {String} [opts.error] The invalid error label\n */\n\n\nclass TextPrompt extends Prompt {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(opts);\n    this.transform = style.render(opts.style);\n    this.scale = this.transform.scale;\n    this.msg = opts.message;\n    this.initial = opts.initial || ``;\n\n    this.validator = opts.validate || (() => true);\n\n    this.value = ``;\n    this.errorMsg = opts.error || `Please Enter A Valid Value`;\n    this.cursor = Number(!!this.initial);\n    this.cursorOffset = 0;\n    this.clear = clear(``, this.out.columns);\n    this.render();\n  }\n\n  set value(v) {\n    if (!v && this.initial) {\n      this.placeholder = true;\n      this.rendered = color.gray(this.transform.render(this.initial));\n    } else {\n      this.placeholder = false;\n      this.rendered = this.transform.render(v);\n    }\n\n    this._value = v;\n    this.fire();\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  reset() {\n    this.value = ``;\n    this.cursor = Number(!!this.initial);\n    this.cursorOffset = 0;\n    this.fire();\n    this.render();\n  }\n\n  exit() {\n    this.abort();\n  }\n\n  abort() {\n    this.value = this.value || this.initial;\n    this.done = this.aborted = true;\n    this.error = false;\n    this.red = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  async validate() {\n    let valid = await this.validator(this.value);\n\n    if (typeof valid === `string`) {\n      this.errorMsg = valid;\n      valid = false;\n    }\n\n    this.error = !valid;\n  }\n\n  async submit() {\n    this.value = this.value || this.initial;\n    this.cursorOffset = 0;\n    this.cursor = this.rendered.length;\n    await this.validate();\n\n    if (this.error) {\n      this.red = true;\n      this.fire();\n      this.render();\n      return;\n    }\n\n    this.done = true;\n    this.aborted = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  next() {\n    if (!this.placeholder) return this.bell();\n    this.value = this.initial;\n    this.cursor = this.rendered.length;\n    this.fire();\n    this.render();\n  }\n\n  moveCursor(n) {\n    if (this.placeholder) return;\n    this.cursor = this.cursor + n;\n    this.cursorOffset += n;\n  }\n\n  _(c, key) {\n    let s1 = this.value.slice(0, this.cursor);\n    let s2 = this.value.slice(this.cursor);\n    this.value = `${s1}${c}${s2}`;\n    this.red = false;\n    this.cursor = this.placeholder ? 0 : s1.length + 1;\n    this.render();\n  }\n\n  delete() {\n    if (this.isCursorAtStart()) return this.bell();\n    let s1 = this.value.slice(0, this.cursor - 1);\n    let s2 = this.value.slice(this.cursor);\n    this.value = `${s1}${s2}`;\n    this.red = false;\n\n    if (this.isCursorAtStart()) {\n      this.cursorOffset = 0;\n    } else {\n      this.cursorOffset++;\n      this.moveCursor(-1);\n    }\n\n    this.render();\n  }\n\n  deleteForward() {\n    if (this.cursor * this.scale >= this.rendered.length || this.placeholder) return this.bell();\n    let s1 = this.value.slice(0, this.cursor);\n    let s2 = this.value.slice(this.cursor + 1);\n    this.value = `${s1}${s2}`;\n    this.red = false;\n\n    if (this.isCursorAtEnd()) {\n      this.cursorOffset = 0;\n    } else {\n      this.cursorOffset++;\n    }\n\n    this.render();\n  }\n\n  first() {\n    this.cursor = 0;\n    this.render();\n  }\n\n  last() {\n    this.cursor = this.value.length;\n    this.render();\n  }\n\n  left() {\n    if (this.cursor <= 0 || this.placeholder) return this.bell();\n    this.moveCursor(-1);\n    this.render();\n  }\n\n  right() {\n    if (this.cursor * this.scale >= this.rendered.length || this.placeholder) return this.bell();\n    this.moveCursor(1);\n    this.render();\n  }\n\n  isCursorAtStart() {\n    return this.cursor === 0 || this.placeholder && this.cursor === 1;\n  }\n\n  isCursorAtEnd() {\n    return this.cursor === this.rendered.length || this.placeholder && this.cursor === this.rendered.length + 1;\n  }\n\n  render() {\n    if (this.closed) return;\n\n    if (!this.firstRender) {\n      if (this.outputError) this.out.write(cursor.down(lines(this.outputError, this.out.columns) - 1) + clear(this.outputError, this.out.columns));\n      this.out.write(clear(this.outputText, this.out.columns));\n    }\n\n    super.render();\n    this.outputError = '';\n    this.outputText = [style.symbol(this.done, this.aborted), color.bold(this.msg), style.delimiter(this.done), this.red ? color.red(this.rendered) : this.rendered].join(` `);\n\n    if (this.error) {\n      this.outputError += this.errorMsg.split(`\\n`).reduce((a, l, i) => a + `\\n${i ? ' ' : figures.pointerSmall} ${color.red().italic(l)}`, ``);\n    }\n\n    this.out.write(erase.line + cursor.to(0) + this.outputText + cursor.save + this.outputError + cursor.restore + cursor.move(this.cursorOffset, 0));\n  }\n\n}\n\nmodule.exports = TextPrompt;","map":{"version":3,"names":["color","require","Prompt","erase","cursor","style","clear","lines","figures","TextPrompt","constructor","opts","transform","render","scale","msg","message","initial","validator","validate","value","errorMsg","error","Number","cursorOffset","out","columns","v","placeholder","rendered","gray","_value","fire","reset","exit","abort","done","aborted","red","write","close","valid","submit","length","next","bell","moveCursor","n","_","c","key","s1","slice","s2","delete","isCursorAtStart","deleteForward","isCursorAtEnd","first","last","left","right","closed","firstRender","outputError","down","outputText","symbol","bold","delimiter","join","split","reduce","a","l","i","pointerSmall","italic","line","to","save","restore","move","module","exports"],"sources":["C:/Users/gsess/node_modules/prompts/lib/elements/text.js"],"sourcesContent":["const color = require('kleur');\nconst Prompt = require('./prompt');\nconst { erase, cursor } = require('sisteransi');\nconst { style, clear, lines, figures } = require('../util');\n\n/**\n * TextPrompt Base Element\n * @param {Object} opts Options\n * @param {String} opts.message Message\n * @param {String} [opts.style='default'] Render style\n * @param {String} [opts.initial] Default value\n * @param {Function} [opts.validate] Validate function\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n * @param {String} [opts.error] The invalid error label\n */\nclass TextPrompt extends Prompt {\n  constructor(opts={}) {\n    super(opts);\n    this.transform = style.render(opts.style);\n    this.scale = this.transform.scale;\n    this.msg = opts.message;\n    this.initial = opts.initial || ``;\n    this.validator = opts.validate || (() => true);\n    this.value = ``;\n    this.errorMsg = opts.error || `Please Enter A Valid Value`;\n    this.cursor = Number(!!this.initial);\n    this.cursorOffset = 0;\n    this.clear = clear(``, this.out.columns);\n    this.render();\n  }\n\n  set value(v) {\n    if (!v && this.initial) {\n      this.placeholder = true;\n      this.rendered = color.gray(this.transform.render(this.initial));\n    } else {\n      this.placeholder = false;\n      this.rendered = this.transform.render(v);\n    }\n    this._value = v;\n    this.fire();\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  reset() {\n    this.value = ``;\n    this.cursor = Number(!!this.initial);\n    this.cursorOffset = 0;\n    this.fire();\n    this.render();\n  }\n\n  exit() {\n    this.abort();\n  }\n\n  abort() {\n    this.value = this.value || this.initial;\n    this.done = this.aborted = true;\n    this.error = false;\n    this.red = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  async validate() {\n    let valid = await this.validator(this.value);\n    if (typeof valid === `string`) {\n      this.errorMsg = valid;\n      valid = false;\n    }\n    this.error = !valid;\n  }\n\n  async submit() {\n    this.value = this.value || this.initial;\n    this.cursorOffset = 0;\n    this.cursor = this.rendered.length;\n    await this.validate();\n    if (this.error) {\n      this.red = true;\n      this.fire();\n      this.render();\n      return;\n    }\n    this.done = true;\n    this.aborted = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  next() {\n    if (!this.placeholder) return this.bell();\n    this.value = this.initial;\n    this.cursor = this.rendered.length;\n    this.fire();\n    this.render();\n  }\n\n  moveCursor(n) {\n    if (this.placeholder) return;\n    this.cursor = this.cursor+n;\n    this.cursorOffset += n;\n  }\n\n  _(c, key) {\n    let s1 = this.value.slice(0, this.cursor);\n    let s2 = this.value.slice(this.cursor);\n    this.value = `${s1}${c}${s2}`;\n    this.red = false;\n    this.cursor = this.placeholder ? 0 : s1.length+1;\n    this.render();\n  }\n\n  delete() {\n    if (this.isCursorAtStart()) return this.bell();\n    let s1 = this.value.slice(0, this.cursor-1);\n    let s2 = this.value.slice(this.cursor);\n    this.value = `${s1}${s2}`;\n    this.red = false;\n    if (this.isCursorAtStart()) {\n      this.cursorOffset = 0\n    } else {\n      this.cursorOffset++;\n      this.moveCursor(-1);\n    }\n    this.render();\n  }\n\n  deleteForward() {\n    if(this.cursor*this.scale >= this.rendered.length || this.placeholder) return this.bell();\n    let s1 = this.value.slice(0, this.cursor);\n    let s2 = this.value.slice(this.cursor+1);\n    this.value = `${s1}${s2}`;\n    this.red = false;\n    if (this.isCursorAtEnd()) {\n      this.cursorOffset = 0;\n    } else {\n      this.cursorOffset++;\n    }\n    this.render();\n  }\n\n  first() {\n    this.cursor = 0;\n    this.render();\n  }\n\n  last() {\n    this.cursor = this.value.length;\n    this.render();\n  }\n\n  left() {\n    if (this.cursor <= 0 || this.placeholder) return this.bell();\n    this.moveCursor(-1);\n    this.render();\n  }\n\n  right() {\n    if (this.cursor*this.scale >= this.rendered.length || this.placeholder) return this.bell();\n    this.moveCursor(1);\n    this.render();\n  }\n\n  isCursorAtStart() {\n    return this.cursor === 0 || (this.placeholder && this.cursor === 1);\n  }\n\n  isCursorAtEnd() {\n    return this.cursor === this.rendered.length || (this.placeholder && this.cursor === this.rendered.length + 1)\n  }\n\n  render() {\n    if (this.closed) return;\n    if (!this.firstRender) {\n      if (this.outputError)\n        this.out.write(cursor.down(lines(this.outputError, this.out.columns) - 1) + clear(this.outputError, this.out.columns));\n      this.out.write(clear(this.outputText, this.out.columns));\n    }\n    super.render();\n    this.outputError = '';\n\n    this.outputText = [\n      style.symbol(this.done, this.aborted),\n      color.bold(this.msg),\n      style.delimiter(this.done),\n      this.red ? color.red(this.rendered) : this.rendered\n    ].join(` `);\n\n    if (this.error) {\n      this.outputError += this.errorMsg.split(`\\n`)\n          .reduce((a, l, i) => a + `\\n${i ? ' ' : figures.pointerSmall} ${color.red().italic(l)}`, ``);\n    }\n\n    this.out.write(erase.line + cursor.to(0) + this.outputText + cursor.save + this.outputError + cursor.restore + cursor.move(this.cursorOffset, 0));\n  }\n}\n\nmodule.exports = TextPrompt;"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAM;EAAEE,KAAF;EAASC;AAAT,IAAoBH,OAAO,CAAC,YAAD,CAAjC;;AACA,MAAM;EAAEI,KAAF;EAASC,KAAT;EAAgBC,KAAhB;EAAuBC;AAAvB,IAAmCP,OAAO,CAAC,SAAD,CAAhD;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMQ,UAAN,SAAyBP,MAAzB,CAAgC;EAC9BQ,WAAW,GAAU;IAAA,IAATC,IAAS,uEAAJ,EAAI;IACnB,MAAMA,IAAN;IACA,KAAKC,SAAL,GAAiBP,KAAK,CAACQ,MAAN,CAAaF,IAAI,CAACN,KAAlB,CAAjB;IACA,KAAKS,KAAL,GAAa,KAAKF,SAAL,CAAeE,KAA5B;IACA,KAAKC,GAAL,GAAWJ,IAAI,CAACK,OAAhB;IACA,KAAKC,OAAL,GAAeN,IAAI,CAACM,OAAL,IAAiB,EAAhC;;IACA,KAAKC,SAAL,GAAiBP,IAAI,CAACQ,QAAL,KAAkB,MAAM,IAAxB,CAAjB;;IACA,KAAKC,KAAL,GAAc,EAAd;IACA,KAAKC,QAAL,GAAgBV,IAAI,CAACW,KAAL,IAAe,4BAA/B;IACA,KAAKlB,MAAL,GAAcmB,MAAM,CAAC,CAAC,CAAC,KAAKN,OAAR,CAApB;IACA,KAAKO,YAAL,GAAoB,CAApB;IACA,KAAKlB,KAAL,GAAaA,KAAK,CAAE,EAAF,EAAK,KAAKmB,GAAL,CAASC,OAAd,CAAlB;IACA,KAAKb,MAAL;EACD;;EAEQ,IAALO,KAAK,CAACO,CAAD,EAAI;IACX,IAAI,CAACA,CAAD,IAAM,KAAKV,OAAf,EAAwB;MACtB,KAAKW,WAAL,GAAmB,IAAnB;MACA,KAAKC,QAAL,GAAgB7B,KAAK,CAAC8B,IAAN,CAAW,KAAKlB,SAAL,CAAeC,MAAf,CAAsB,KAAKI,OAA3B,CAAX,CAAhB;IACD,CAHD,MAGO;MACL,KAAKW,WAAL,GAAmB,KAAnB;MACA,KAAKC,QAAL,GAAgB,KAAKjB,SAAL,CAAeC,MAAf,CAAsBc,CAAtB,CAAhB;IACD;;IACD,KAAKI,MAAL,GAAcJ,CAAd;IACA,KAAKK,IAAL;EACD;;EAEQ,IAALZ,KAAK,GAAG;IACV,OAAO,KAAKW,MAAZ;EACD;;EAEDE,KAAK,GAAG;IACN,KAAKb,KAAL,GAAc,EAAd;IACA,KAAKhB,MAAL,GAAcmB,MAAM,CAAC,CAAC,CAAC,KAAKN,OAAR,CAApB;IACA,KAAKO,YAAL,GAAoB,CAApB;IACA,KAAKQ,IAAL;IACA,KAAKnB,MAAL;EACD;;EAEDqB,IAAI,GAAG;IACL,KAAKC,KAAL;EACD;;EAEDA,KAAK,GAAG;IACN,KAAKf,KAAL,GAAa,KAAKA,KAAL,IAAc,KAAKH,OAAhC;IACA,KAAKmB,IAAL,GAAY,KAAKC,OAAL,GAAe,IAA3B;IACA,KAAKf,KAAL,GAAa,KAAb;IACA,KAAKgB,GAAL,GAAW,KAAX;IACA,KAAKN,IAAL;IACA,KAAKnB,MAAL;IACA,KAAKY,GAAL,CAASc,KAAT,CAAe,IAAf;IACA,KAAKC,KAAL;EACD;;EAEa,MAARrB,QAAQ,GAAG;IACf,IAAIsB,KAAK,GAAG,MAAM,KAAKvB,SAAL,CAAe,KAAKE,KAApB,CAAlB;;IACA,IAAI,OAAOqB,KAAP,KAAkB,QAAtB,EAA+B;MAC7B,KAAKpB,QAAL,GAAgBoB,KAAhB;MACAA,KAAK,GAAG,KAAR;IACD;;IACD,KAAKnB,KAAL,GAAa,CAACmB,KAAd;EACD;;EAEW,MAANC,MAAM,GAAG;IACb,KAAKtB,KAAL,GAAa,KAAKA,KAAL,IAAc,KAAKH,OAAhC;IACA,KAAKO,YAAL,GAAoB,CAApB;IACA,KAAKpB,MAAL,GAAc,KAAKyB,QAAL,CAAcc,MAA5B;IACA,MAAM,KAAKxB,QAAL,EAAN;;IACA,IAAI,KAAKG,KAAT,EAAgB;MACd,KAAKgB,GAAL,GAAW,IAAX;MACA,KAAKN,IAAL;MACA,KAAKnB,MAAL;MACA;IACD;;IACD,KAAKuB,IAAL,GAAY,IAAZ;IACA,KAAKC,OAAL,GAAe,KAAf;IACA,KAAKL,IAAL;IACA,KAAKnB,MAAL;IACA,KAAKY,GAAL,CAASc,KAAT,CAAe,IAAf;IACA,KAAKC,KAAL;EACD;;EAEDI,IAAI,GAAG;IACL,IAAI,CAAC,KAAKhB,WAAV,EAAuB,OAAO,KAAKiB,IAAL,EAAP;IACvB,KAAKzB,KAAL,GAAa,KAAKH,OAAlB;IACA,KAAKb,MAAL,GAAc,KAAKyB,QAAL,CAAcc,MAA5B;IACA,KAAKX,IAAL;IACA,KAAKnB,MAAL;EACD;;EAEDiC,UAAU,CAACC,CAAD,EAAI;IACZ,IAAI,KAAKnB,WAAT,EAAsB;IACtB,KAAKxB,MAAL,GAAc,KAAKA,MAAL,GAAY2C,CAA1B;IACA,KAAKvB,YAAL,IAAqBuB,CAArB;EACD;;EAEDC,CAAC,CAACC,CAAD,EAAIC,GAAJ,EAAS;IACR,IAAIC,EAAE,GAAG,KAAK/B,KAAL,CAAWgC,KAAX,CAAiB,CAAjB,EAAoB,KAAKhD,MAAzB,CAAT;IACA,IAAIiD,EAAE,GAAG,KAAKjC,KAAL,CAAWgC,KAAX,CAAiB,KAAKhD,MAAtB,CAAT;IACA,KAAKgB,KAAL,GAAc,GAAE+B,EAAG,GAAEF,CAAE,GAAEI,EAAG,EAA5B;IACA,KAAKf,GAAL,GAAW,KAAX;IACA,KAAKlC,MAAL,GAAc,KAAKwB,WAAL,GAAmB,CAAnB,GAAuBuB,EAAE,CAACR,MAAH,GAAU,CAA/C;IACA,KAAK9B,MAAL;EACD;;EAEDyC,MAAM,GAAG;IACP,IAAI,KAAKC,eAAL,EAAJ,EAA4B,OAAO,KAAKV,IAAL,EAAP;IAC5B,IAAIM,EAAE,GAAG,KAAK/B,KAAL,CAAWgC,KAAX,CAAiB,CAAjB,EAAoB,KAAKhD,MAAL,GAAY,CAAhC,CAAT;IACA,IAAIiD,EAAE,GAAG,KAAKjC,KAAL,CAAWgC,KAAX,CAAiB,KAAKhD,MAAtB,CAAT;IACA,KAAKgB,KAAL,GAAc,GAAE+B,EAAG,GAAEE,EAAG,EAAxB;IACA,KAAKf,GAAL,GAAW,KAAX;;IACA,IAAI,KAAKiB,eAAL,EAAJ,EAA4B;MAC1B,KAAK/B,YAAL,GAAoB,CAApB;IACD,CAFD,MAEO;MACL,KAAKA,YAAL;MACA,KAAKsB,UAAL,CAAgB,CAAC,CAAjB;IACD;;IACD,KAAKjC,MAAL;EACD;;EAED2C,aAAa,GAAG;IACd,IAAG,KAAKpD,MAAL,GAAY,KAAKU,KAAjB,IAA0B,KAAKe,QAAL,CAAcc,MAAxC,IAAkD,KAAKf,WAA1D,EAAuE,OAAO,KAAKiB,IAAL,EAAP;IACvE,IAAIM,EAAE,GAAG,KAAK/B,KAAL,CAAWgC,KAAX,CAAiB,CAAjB,EAAoB,KAAKhD,MAAzB,CAAT;IACA,IAAIiD,EAAE,GAAG,KAAKjC,KAAL,CAAWgC,KAAX,CAAiB,KAAKhD,MAAL,GAAY,CAA7B,CAAT;IACA,KAAKgB,KAAL,GAAc,GAAE+B,EAAG,GAAEE,EAAG,EAAxB;IACA,KAAKf,GAAL,GAAW,KAAX;;IACA,IAAI,KAAKmB,aAAL,EAAJ,EAA0B;MACxB,KAAKjC,YAAL,GAAoB,CAApB;IACD,CAFD,MAEO;MACL,KAAKA,YAAL;IACD;;IACD,KAAKX,MAAL;EACD;;EAED6C,KAAK,GAAG;IACN,KAAKtD,MAAL,GAAc,CAAd;IACA,KAAKS,MAAL;EACD;;EAED8C,IAAI,GAAG;IACL,KAAKvD,MAAL,GAAc,KAAKgB,KAAL,CAAWuB,MAAzB;IACA,KAAK9B,MAAL;EACD;;EAED+C,IAAI,GAAG;IACL,IAAI,KAAKxD,MAAL,IAAe,CAAf,IAAoB,KAAKwB,WAA7B,EAA0C,OAAO,KAAKiB,IAAL,EAAP;IAC1C,KAAKC,UAAL,CAAgB,CAAC,CAAjB;IACA,KAAKjC,MAAL;EACD;;EAEDgD,KAAK,GAAG;IACN,IAAI,KAAKzD,MAAL,GAAY,KAAKU,KAAjB,IAA0B,KAAKe,QAAL,CAAcc,MAAxC,IAAkD,KAAKf,WAA3D,EAAwE,OAAO,KAAKiB,IAAL,EAAP;IACxE,KAAKC,UAAL,CAAgB,CAAhB;IACA,KAAKjC,MAAL;EACD;;EAED0C,eAAe,GAAG;IAChB,OAAO,KAAKnD,MAAL,KAAgB,CAAhB,IAAsB,KAAKwB,WAAL,IAAoB,KAAKxB,MAAL,KAAgB,CAAjE;EACD;;EAEDqD,aAAa,GAAG;IACd,OAAO,KAAKrD,MAAL,KAAgB,KAAKyB,QAAL,CAAcc,MAA9B,IAAyC,KAAKf,WAAL,IAAoB,KAAKxB,MAAL,KAAgB,KAAKyB,QAAL,CAAcc,MAAd,GAAuB,CAA3G;EACD;;EAED9B,MAAM,GAAG;IACP,IAAI,KAAKiD,MAAT,EAAiB;;IACjB,IAAI,CAAC,KAAKC,WAAV,EAAuB;MACrB,IAAI,KAAKC,WAAT,EACE,KAAKvC,GAAL,CAASc,KAAT,CAAenC,MAAM,CAAC6D,IAAP,CAAY1D,KAAK,CAAC,KAAKyD,WAAN,EAAmB,KAAKvC,GAAL,CAASC,OAA5B,CAAL,GAA4C,CAAxD,IAA6DpB,KAAK,CAAC,KAAK0D,WAAN,EAAmB,KAAKvC,GAAL,CAASC,OAA5B,CAAjF;MACF,KAAKD,GAAL,CAASc,KAAT,CAAejC,KAAK,CAAC,KAAK4D,UAAN,EAAkB,KAAKzC,GAAL,CAASC,OAA3B,CAApB;IACD;;IACD,MAAMb,MAAN;IACA,KAAKmD,WAAL,GAAmB,EAAnB;IAEA,KAAKE,UAAL,GAAkB,CAChB7D,KAAK,CAAC8D,MAAN,CAAa,KAAK/B,IAAlB,EAAwB,KAAKC,OAA7B,CADgB,EAEhBrC,KAAK,CAACoE,IAAN,CAAW,KAAKrD,GAAhB,CAFgB,EAGhBV,KAAK,CAACgE,SAAN,CAAgB,KAAKjC,IAArB,CAHgB,EAIhB,KAAKE,GAAL,GAAWtC,KAAK,CAACsC,GAAN,CAAU,KAAKT,QAAf,CAAX,GAAsC,KAAKA,QAJ3B,EAKhByC,IALgB,CAKV,GALU,CAAlB;;IAOA,IAAI,KAAKhD,KAAT,EAAgB;MACd,KAAK0C,WAAL,IAAoB,KAAK3C,QAAL,CAAckD,KAAd,CAAqB,IAArB,EACfC,MADe,CACR,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,KAAaF,CAAC,GAAI,KAAIE,CAAC,GAAG,GAAH,GAASnE,OAAO,CAACoE,YAAa,IAAG5E,KAAK,CAACsC,GAAN,GAAYuC,MAAZ,CAAmBH,CAAnB,CAAsB,EADtE,EAC0E,EAD1E,CAApB;IAED;;IAED,KAAKjD,GAAL,CAASc,KAAT,CAAepC,KAAK,CAAC2E,IAAN,GAAa1E,MAAM,CAAC2E,EAAP,CAAU,CAAV,CAAb,GAA4B,KAAKb,UAAjC,GAA8C9D,MAAM,CAAC4E,IAArD,GAA4D,KAAKhB,WAAjE,GAA+E5D,MAAM,CAAC6E,OAAtF,GAAgG7E,MAAM,CAAC8E,IAAP,CAAY,KAAK1D,YAAjB,EAA+B,CAA/B,CAA/G;EACD;;AA5L6B;;AA+LhC2D,MAAM,CAACC,OAAP,GAAiB3E,UAAjB"},"metadata":{},"sourceType":"script"}