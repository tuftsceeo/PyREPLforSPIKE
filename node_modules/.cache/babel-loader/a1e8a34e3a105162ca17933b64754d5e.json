{"ast":null,"code":"module.exports = uidNumber; // This module calls into get-uid-gid.js, which sets the\n// uid and gid to the supplied argument, in order to find out their\n// numeric value.  This can't be done in the main node process,\n// because otherwise node would be running as that user from this\n// point on.\n\nvar child_process = require(\"child_process\"),\n    path = require(\"path\"),\n    uidSupport = process.getuid && process.setuid,\n    uidCache = {},\n    gidCache = {};\n\nfunction uidNumber(uid, gid, cb) {\n  if (!uidSupport) return cb();\n  if (typeof cb !== \"function\") cb = gid, gid = null;\n  if (typeof cb !== \"function\") cb = uid, uid = null;\n  if (gid == null) gid = process.getgid();\n  if (uid == null) uid = process.getuid();\n  if (!isNaN(gid)) gid = gidCache[gid] = +gid;\n  if (!isNaN(uid)) uid = uidCache[uid] = +uid;\n  if (uidCache.hasOwnProperty(uid)) uid = uidCache[uid];\n  if (gidCache.hasOwnProperty(gid)) gid = gidCache[gid];\n\n  if (typeof gid === \"number\" && typeof uid === \"number\") {\n    return process.nextTick(cb.bind(null, null, uid, gid));\n  }\n\n  var getter = require.resolve(\"./get-uid-gid.js\");\n\n  child_process.execFile(process.execPath, [getter, uid, gid], function (code, out, stderr) {\n    if (code) {\n      var er = new Error(\"could not get uid/gid\\n\" + stderr);\n      er.code = code;\n      return cb(er);\n    }\n\n    try {\n      out = JSON.parse(out + \"\");\n    } catch (ex) {\n      return cb(ex);\n    }\n\n    if (out.error) {\n      var er = new Error(out.error);\n      er.errno = out.errno;\n      return cb(er);\n    }\n\n    if (isNaN(out.uid) || isNaN(out.gid)) return cb(new Error(\"Could not get uid/gid: \" + JSON.stringify(out)));\n    cb(null, uidCache[uid] = +out.uid, gidCache[gid] = +out.gid);\n  });\n}","map":{"version":3,"names":["module","exports","uidNumber","child_process","require","path","uidSupport","process","getuid","setuid","uidCache","gidCache","uid","gid","cb","getgid","isNaN","hasOwnProperty","nextTick","bind","getter","resolve","execFile","execPath","code","out","stderr","er","Error","JSON","parse","ex","error","errno","stringify"],"sources":["C:/Users/gsess/node_modules/uid-number/uid-number.js"],"sourcesContent":["module.exports = uidNumber\n\n// This module calls into get-uid-gid.js, which sets the\n// uid and gid to the supplied argument, in order to find out their\n// numeric value.  This can't be done in the main node process,\n// because otherwise node would be running as that user from this\n// point on.\n\nvar child_process = require(\"child_process\")\n  , path = require(\"path\")\n  , uidSupport = process.getuid && process.setuid\n  , uidCache = {}\n  , gidCache = {}\n\nfunction uidNumber (uid, gid, cb) {\n  if (!uidSupport) return cb()\n  if (typeof cb !== \"function\") cb = gid, gid = null\n  if (typeof cb !== \"function\") cb = uid, uid = null\n  if (gid == null) gid = process.getgid()\n  if (uid == null) uid = process.getuid()\n  if (!isNaN(gid)) gid = gidCache[gid] = +gid\n  if (!isNaN(uid)) uid = uidCache[uid] = +uid\n\n  if (uidCache.hasOwnProperty(uid)) uid = uidCache[uid]\n  if (gidCache.hasOwnProperty(gid)) gid = gidCache[gid]\n\n  if (typeof gid === \"number\" && typeof uid === \"number\") {\n    return process.nextTick(cb.bind(null, null, uid, gid))\n  }\n\n  var getter = require.resolve(\"./get-uid-gid.js\")\n\n  child_process.execFile( process.execPath\n                        , [getter, uid, gid]\n                        , function (code, out, stderr) {\n    if (code) {\n      var er = new Error(\"could not get uid/gid\\n\" + stderr)\n      er.code = code\n      return cb(er)\n    }\n\n    try {\n      out = JSON.parse(out+\"\")\n    } catch (ex) {\n      return cb(ex)\n    }\n\n    if (out.error) {\n      var er = new Error(out.error)\n      er.errno = out.errno\n      return cb(er)\n    }\n\n    if (isNaN(out.uid) || isNaN(out.gid)) return cb(new Error(\n      \"Could not get uid/gid: \"+JSON.stringify(out)))\n\n    cb(null, uidCache[uid] = +out.uid, gidCache[gid] = +out.gid)\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}