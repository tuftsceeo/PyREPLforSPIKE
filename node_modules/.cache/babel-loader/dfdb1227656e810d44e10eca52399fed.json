{"ast":null,"code":"const color = require('kleur');\n\nconst Prompt = require('./prompt');\n\nconst {\n  style,\n  clear\n} = require('../util');\n\nconst {\n  erase,\n  cursor\n} = require('sisteransi');\n/**\n * ConfirmPrompt Base Element\n * @param {Object} opts Options\n * @param {String} opts.message Message\n * @param {Boolean} [opts.initial] Default value (true/false)\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n * @param {String} [opts.yes] The \"Yes\" label\n * @param {String} [opts.yesOption] The \"Yes\" option when choosing between yes/no\n * @param {String} [opts.no] The \"No\" label\n * @param {String} [opts.noOption] The \"No\" option when choosing between yes/no\n */\n\n\nclass ConfirmPrompt extends Prompt {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(opts);\n    this.msg = opts.message;\n    this.value = opts.initial;\n    this.initialValue = !!opts.initial;\n    this.yesMsg = opts.yes || 'yes';\n    this.yesOption = opts.yesOption || '(Y/n)';\n    this.noMsg = opts.no || 'no';\n    this.noOption = opts.noOption || '(y/N)';\n    this.render();\n  }\n\n  reset() {\n    this.value = this.initialValue;\n    this.fire();\n    this.render();\n  }\n\n  exit() {\n    this.abort();\n  }\n\n  abort() {\n    this.done = this.aborted = true;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  submit() {\n    this.value = this.value || false;\n    this.done = true;\n    this.aborted = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  _(c, key) {\n    if (c.toLowerCase() === 'y') {\n      this.value = true;\n      return this.submit();\n    }\n\n    if (c.toLowerCase() === 'n') {\n      this.value = false;\n      return this.submit();\n    }\n\n    return this.bell();\n  }\n\n  render() {\n    if (this.closed) return;\n    if (this.firstRender) this.out.write(cursor.hide);else this.out.write(clear(this.outputText, this.out.columns));\n    super.render();\n    this.outputText = [style.symbol(this.done, this.aborted), color.bold(this.msg), style.delimiter(this.done), this.done ? this.value ? this.yesMsg : this.noMsg : color.gray(this.initialValue ? this.yesOption : this.noOption)].join(' ');\n    this.out.write(erase.line + cursor.to(0) + this.outputText);\n  }\n\n}\n\nmodule.exports = ConfirmPrompt;","map":{"version":3,"names":["color","require","Prompt","style","clear","erase","cursor","ConfirmPrompt","constructor","opts","msg","message","value","initial","initialValue","yesMsg","yes","yesOption","noMsg","no","noOption","render","reset","fire","exit","abort","done","aborted","out","write","close","submit","_","c","key","toLowerCase","bell","closed","firstRender","hide","outputText","columns","symbol","bold","delimiter","gray","join","line","to","module","exports"],"sources":["C:/Users/gsess/node_modules/prompts/lib/elements/confirm.js"],"sourcesContent":["const color = require('kleur');\nconst Prompt = require('./prompt');\nconst { style, clear } = require('../util');\nconst { erase, cursor } = require('sisteransi');\n\n/**\n * ConfirmPrompt Base Element\n * @param {Object} opts Options\n * @param {String} opts.message Message\n * @param {Boolean} [opts.initial] Default value (true/false)\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n * @param {String} [opts.yes] The \"Yes\" label\n * @param {String} [opts.yesOption] The \"Yes\" option when choosing between yes/no\n * @param {String} [opts.no] The \"No\" label\n * @param {String} [opts.noOption] The \"No\" option when choosing between yes/no\n */\nclass ConfirmPrompt extends Prompt {\n  constructor(opts={}) {\n    super(opts);\n    this.msg = opts.message;\n    this.value = opts.initial;\n    this.initialValue = !!opts.initial;\n    this.yesMsg = opts.yes || 'yes';\n    this.yesOption = opts.yesOption || '(Y/n)';\n    this.noMsg = opts.no || 'no';\n    this.noOption = opts.noOption || '(y/N)';\n    this.render();\n  }\n\n  reset() {\n    this.value = this.initialValue;\n    this.fire();\n    this.render();\n  }\n\n  exit() {\n    this.abort();\n  }\n\n  abort() {\n    this.done = this.aborted = true;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  submit() {\n    this.value = this.value || false;\n    this.done = true;\n    this.aborted = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  _(c, key) {\n    if (c.toLowerCase() === 'y') {\n      this.value = true;\n      return this.submit();\n    }\n    if (c.toLowerCase() === 'n') {\n      this.value = false;\n      return this.submit();\n    }\n    return this.bell();\n  }\n\n  render() {\n    if (this.closed) return;\n    if (this.firstRender) this.out.write(cursor.hide);\n    else this.out.write(clear(this.outputText, this.out.columns));\n    super.render();\n\n    this.outputText = [\n      style.symbol(this.done, this.aborted),\n      color.bold(this.msg),\n      style.delimiter(this.done),\n      this.done ? (this.value ? this.yesMsg : this.noMsg)\n          : color.gray(this.initialValue ? this.yesOption : this.noOption)\n    ].join(' ');\n\n    this.out.write(erase.line + cursor.to(0) + this.outputText);\n  }\n}\n\nmodule.exports = ConfirmPrompt;\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAM;EAAEE,KAAF;EAASC;AAAT,IAAmBH,OAAO,CAAC,SAAD,CAAhC;;AACA,MAAM;EAAEI,KAAF;EAASC;AAAT,IAAoBL,OAAO,CAAC,YAAD,CAAjC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMM,aAAN,SAA4BL,MAA5B,CAAmC;EACjCM,WAAW,GAAU;IAAA,IAATC,IAAS,uEAAJ,EAAI;IACnB,MAAMA,IAAN;IACA,KAAKC,GAAL,GAAWD,IAAI,CAACE,OAAhB;IACA,KAAKC,KAAL,GAAaH,IAAI,CAACI,OAAlB;IACA,KAAKC,YAAL,GAAoB,CAAC,CAACL,IAAI,CAACI,OAA3B;IACA,KAAKE,MAAL,GAAcN,IAAI,CAACO,GAAL,IAAY,KAA1B;IACA,KAAKC,SAAL,GAAiBR,IAAI,CAACQ,SAAL,IAAkB,OAAnC;IACA,KAAKC,KAAL,GAAaT,IAAI,CAACU,EAAL,IAAW,IAAxB;IACA,KAAKC,QAAL,GAAgBX,IAAI,CAACW,QAAL,IAAiB,OAAjC;IACA,KAAKC,MAAL;EACD;;EAEDC,KAAK,GAAG;IACN,KAAKV,KAAL,GAAa,KAAKE,YAAlB;IACA,KAAKS,IAAL;IACA,KAAKF,MAAL;EACD;;EAEDG,IAAI,GAAG;IACL,KAAKC,KAAL;EACD;;EAEDA,KAAK,GAAG;IACN,KAAKC,IAAL,GAAY,KAAKC,OAAL,GAAe,IAA3B;IACA,KAAKJ,IAAL;IACA,KAAKF,MAAL;IACA,KAAKO,GAAL,CAASC,KAAT,CAAe,IAAf;IACA,KAAKC,KAAL;EACD;;EAEDC,MAAM,GAAG;IACP,KAAKnB,KAAL,GAAa,KAAKA,KAAL,IAAc,KAA3B;IACA,KAAKc,IAAL,GAAY,IAAZ;IACA,KAAKC,OAAL,GAAe,KAAf;IACA,KAAKJ,IAAL;IACA,KAAKF,MAAL;IACA,KAAKO,GAAL,CAASC,KAAT,CAAe,IAAf;IACA,KAAKC,KAAL;EACD;;EAEDE,CAAC,CAACC,CAAD,EAAIC,GAAJ,EAAS;IACR,IAAID,CAAC,CAACE,WAAF,OAAoB,GAAxB,EAA6B;MAC3B,KAAKvB,KAAL,GAAa,IAAb;MACA,OAAO,KAAKmB,MAAL,EAAP;IACD;;IACD,IAAIE,CAAC,CAACE,WAAF,OAAoB,GAAxB,EAA6B;MAC3B,KAAKvB,KAAL,GAAa,KAAb;MACA,OAAO,KAAKmB,MAAL,EAAP;IACD;;IACD,OAAO,KAAKK,IAAL,EAAP;EACD;;EAEDf,MAAM,GAAG;IACP,IAAI,KAAKgB,MAAT,EAAiB;IACjB,IAAI,KAAKC,WAAT,EAAsB,KAAKV,GAAL,CAASC,KAAT,CAAevB,MAAM,CAACiC,IAAtB,EAAtB,KACK,KAAKX,GAAL,CAASC,KAAT,CAAezB,KAAK,CAAC,KAAKoC,UAAN,EAAkB,KAAKZ,GAAL,CAASa,OAA3B,CAApB;IACL,MAAMpB,MAAN;IAEA,KAAKmB,UAAL,GAAkB,CAChBrC,KAAK,CAACuC,MAAN,CAAa,KAAKhB,IAAlB,EAAwB,KAAKC,OAA7B,CADgB,EAEhB3B,KAAK,CAAC2C,IAAN,CAAW,KAAKjC,GAAhB,CAFgB,EAGhBP,KAAK,CAACyC,SAAN,CAAgB,KAAKlB,IAArB,CAHgB,EAIhB,KAAKA,IAAL,GAAa,KAAKd,KAAL,GAAa,KAAKG,MAAlB,GAA2B,KAAKG,KAA7C,GACMlB,KAAK,CAAC6C,IAAN,CAAW,KAAK/B,YAAL,GAAoB,KAAKG,SAAzB,GAAqC,KAAKG,QAArD,CALU,EAMhB0B,IANgB,CAMX,GANW,CAAlB;IAQA,KAAKlB,GAAL,CAASC,KAAT,CAAexB,KAAK,CAAC0C,IAAN,GAAazC,MAAM,CAAC0C,EAAP,CAAU,CAAV,CAAb,GAA4B,KAAKR,UAAhD;EACD;;AApEgC;;AAuEnCS,MAAM,CAACC,OAAP,GAAiB3C,aAAjB"},"metadata":{},"sourceType":"script"}