{"ast":null,"code":"'use strict';\n\nconst readline = require('readline');\n\nconst _require = require('../util'),\n      action = _require.action;\n\nconst EventEmitter = require('events');\n\nconst _require2 = require('sisteransi'),\n      beep = _require2.beep,\n      cursor = _require2.cursor;\n\nconst color = require('kleur');\n/**\n * Base prompt skeleton\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n */\n\n\nclass Prompt extends EventEmitter {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n    this.firstRender = true;\n    this.in = opts.stdin || process.stdin;\n    this.out = opts.stdout || process.stdout;\n\n    this.onRender = (opts.onRender || (() => void 0)).bind(this);\n\n    const rl = readline.createInterface({\n      input: this.in,\n      escapeCodeTimeout: 50\n    });\n    readline.emitKeypressEvents(this.in, rl);\n    if (this.in.isTTY) this.in.setRawMode(true);\n    const isSelect = ['SelectPrompt', 'MultiselectPrompt'].indexOf(this.constructor.name) > -1;\n\n    const keypress = (str, key) => {\n      let a = action(key, isSelect);\n\n      if (a === false) {\n        this._ && this._(str, key);\n      } else if (typeof this[a] === 'function') {\n        this[a](key);\n      } else {\n        this.bell();\n      }\n    };\n\n    this.close = () => {\n      this.out.write(cursor.show);\n      this.in.removeListener('keypress', keypress);\n      if (this.in.isTTY) this.in.setRawMode(false);\n      rl.close();\n      this.emit(this.aborted ? 'abort' : this.exited ? 'exit' : 'submit', this.value);\n      this.closed = true;\n    };\n\n    this.in.on('keypress', keypress);\n  }\n\n  fire() {\n    this.emit('state', {\n      value: this.value,\n      aborted: !!this.aborted,\n      exited: !!this.exited\n    });\n  }\n\n  bell() {\n    this.out.write(beep);\n  }\n\n  render() {\n    this.onRender(color);\n    if (this.firstRender) this.firstRender = false;\n  }\n\n}\n\nmodule.exports = Prompt;","map":{"version":3,"names":["readline","require","_require","action","EventEmitter","_require2","beep","cursor","color","Prompt","constructor","opts","firstRender","in","stdin","process","out","stdout","onRender","bind","rl","createInterface","input","escapeCodeTimeout","emitKeypressEvents","isTTY","setRawMode","isSelect","indexOf","name","keypress","str","key","a","_","bell","close","write","show","removeListener","emit","aborted","exited","value","closed","on","fire","render","module","exports"],"sources":["C:/Users/gsess/node_modules/prompts/dist/elements/prompt.js"],"sourcesContent":["'use strict';\n\nconst readline = require('readline');\n\nconst _require = require('../util'),\n      action = _require.action;\n\nconst EventEmitter = require('events');\n\nconst _require2 = require('sisteransi'),\n      beep = _require2.beep,\n      cursor = _require2.cursor;\n\nconst color = require('kleur');\n/**\n * Base prompt skeleton\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n */\n\n\nclass Prompt extends EventEmitter {\n  constructor(opts = {}) {\n    super();\n    this.firstRender = true;\n    this.in = opts.stdin || process.stdin;\n    this.out = opts.stdout || process.stdout;\n\n    this.onRender = (opts.onRender || (() => void 0)).bind(this);\n\n    const rl = readline.createInterface({\n      input: this.in,\n      escapeCodeTimeout: 50\n    });\n    readline.emitKeypressEvents(this.in, rl);\n    if (this.in.isTTY) this.in.setRawMode(true);\n    const isSelect = ['SelectPrompt', 'MultiselectPrompt'].indexOf(this.constructor.name) > -1;\n\n    const keypress = (str, key) => {\n      let a = action(key, isSelect);\n\n      if (a === false) {\n        this._ && this._(str, key);\n      } else if (typeof this[a] === 'function') {\n        this[a](key);\n      } else {\n        this.bell();\n      }\n    };\n\n    this.close = () => {\n      this.out.write(cursor.show);\n      this.in.removeListener('keypress', keypress);\n      if (this.in.isTTY) this.in.setRawMode(false);\n      rl.close();\n      this.emit(this.aborted ? 'abort' : this.exited ? 'exit' : 'submit', this.value);\n      this.closed = true;\n    };\n\n    this.in.on('keypress', keypress);\n  }\n\n  fire() {\n    this.emit('state', {\n      value: this.value,\n      aborted: !!this.aborted,\n      exited: !!this.exited\n    });\n  }\n\n  bell() {\n    this.out.write(beep);\n  }\n\n  render() {\n    this.onRender(color);\n    if (this.firstRender) this.firstRender = false;\n  }\n\n}\n\nmodule.exports = Prompt;"],"mappings":"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"},"metadata":{},"sourceType":"script"}